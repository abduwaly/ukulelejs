{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///uku.js","webpack:///webpack/bootstrap be6bb542b05d8423fde8","webpack:///./src/core/Ukulele.ts","webpack:///./src/core/EventEmitter.ts","webpack:///./src/util/AsyncCaller.ts","webpack:///./src/core/DefinitionManager.ts","webpack:///./src/util/ObjectUtil.ts","webpack:///./src/extend/Ajax.ts","webpack:///./src/model/ControllerModel.ts","webpack:///./src/model/ComponentModel.ts","webpack:///./src/model/ComponentPoolItem.ts","webpack:///./src/util/UkuleleUtil.ts","webpack:///./src/extend/Selector.ts","webpack:///./src/util/ArgumentUtil.ts","webpack:///./src/model/ComponentConfiguration.ts","webpack:///./src/core/DirtyChecker.ts","webpack:///./src/core/UkuEventType.ts","webpack:///./src/core/Event.ts","webpack:///./src/core/Analyzer.ts","webpack:///./src/core/BoundItemAttributeFactory.ts","webpack:///./src/model/directive/BoundItemAttrSelected.ts","webpack:///./src/model/BoundItemAttribute.ts","webpack:///./src/model/BoundItemBase.ts","webpack:///./src/model/directive/BoundItemAttrDataItem.ts","webpack:///./src/model/directive/BoundItemAttrSrc.ts","webpack:///./src/model/directive/BoundItemAttrDisabled.ts","webpack:///./src/model/directive/BoundItemAttrRender.ts","webpack:///./src/model/directive/BoundItemAttrStyle.ts","webpack:///./src/model/directive/BoundItemAttrValue.ts","webpack:///./src/model/directive/BoundItemAttrVisible.ts","webpack:///./src/model/BoundItemExpression.ts","webpack:///./src/model/BoundItemInnerText.ts","webpack:///./src/model/BoundItemRepeat.ts","webpack:///./src/model/BoundItemComponentAttribute.ts","webpack:///./src/core/ElementActionBinder.ts","webpack:///./src/extend/EventListener.ts"],"names":["root","factory","exports","module","define","amd","a","i","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__extends","d","b","__","constructor","hasOwnProperty","prototype","Object","create","EventEmitter_1","AsyncCaller_1","DefinitionManager_1","DirtyChecker_1","Analyzer_1","Selector_1","UkuEventType_1","Event_1","Ukulele","_super","_this","apply","arguments","asyncCaller","AsyncCaller","init","exec","manageApplication","handleElement","element","analyizeElement","e","dispatchEvent","Event","UkuEventType","HANDLE_ELEMENT_COMPLETED","registerController","instanceName","controllerInst","_internal_getDefinitionManager","addControllerDefinition","getController","getControllerDefinition","controllerInstance","registerComponent","tag","templateUrl","preload","addComponentDefinition","getComponent","tagName","getComponentController","componentId","getControllerInstByDomId","refresh","alias","excludeElement","dirtyChecker","DirtyChecker","runDirtyChecking","defMgr","DefinitionManager","_internal_dealWithElement","apps","Selector","querySelectorAll","document","length","Error","ele","INITIALIZED","callback","anylyzer","Analyzer","retFunc","addListener","ANALYIZE_COMPLETED","EventEmitter","REFRESH","eventsPool","getEventsPool","eventType","handler","push","removeListener","splice","hasListener","event","handlers","FunctionObject","_func","_argu","func","argu","allTasksPool","queueTasksPool","execType","errorMsg","Function","resolve","ac","aysncFunRunOver","pushAll","asyncFunc","arguArr","funcObj","console","error","pushQueue","caller","finalFunc","shift","task","executeAll","executeQueue","ObjectUtil_1","Ajax_1","ControllerModel_1","ComponentModel_1","ComponentPoolItem_1","UkuleleUtil_1","_uku","controllersDefinition","componentsDefinition","componentsPool","copyControllers","dependentScriptsCache","ajax","Ajax","uku","getComponentsDefinition","getComponentsPool","setComponentsPool","pool","setComponentsDefinition","value","getComponentDefinition","getControllersDefinition","getCopyControllers","copyAllController","controllerModel","controller","copyControllerInstance","previousCtrlInst","ObjectUtil","deepClone","ControllerModel","_alias","domId","_dom","dealWithComponentConfig","template","get","result","componentConfig","UkuleleUtil","getComponentConfiguration","analyizeComponent","ComponentPoolItem","addLazyComponentDefinition","Promise","reject","lazy","getBoundAttributeValue","attr","additionalArgu","_i","getBoundControllerModelByName","parameters","concat","getFinalValue","getControllerModelByName","expression","getFinalValueByExpression","attrName","getBoundModelInstantName","tempArr","split","isParentScope","parentUku","join","config","loadDependentScript","src","self","head","getElementsByTagName","script","createElement","type","charset","async","onload","target","appendChild","deps","dependentScripts","tmpAMD_1","window","undefined","dep","buildeComponentModel","componentControllerScript","stylesheet","style","dealWithShadowStyle","styleArray","newArray","forEach","index","newValue","replace","innerHTML","debugComment","controllerClazz","eval","newComp","ComponentModel","isArray","obj","toString","getType","compare","objA","objB","typeB","key","valuA","valuB","isEqual","itemA","itemB","isEqual2","o","j","url","success","request","XMLHttpRequest","onreadystatechange","readyState","status","responseText","open","send","ctrlInst","boundItems","addBoundItem","boundItem","getBoundItemsByName","name","tempBoundItems","attributeName","clazz","_tagName","_templateUrl","_lazy","ArgumentUtil_1","ComponentConfiguration_1","ValueAndParent","_value","_parant","parent","getFinalAttribute","temp","isParent","searchHtmlTag","htmlString","reTemp","re","RegExp","search","getInnerHtml","match","matchString","tempString","substr","index2","lastIndexOf","substring","log","tempDom","tpl","scripts","ccs","ComponentConfiguration","searchUkuAttrTag","getAttrFromUkuTag","ukuTag","camelCase","names","firstLetter","charAt","toUpperCase","searchUkuExpTag","searchUkuFuncArg","isRepeat","getAttribute","isInRepeat","parents","parent_1","nodeType","controlInstName","getAttributeFinalValue","object","valueObject","getAttributeFinalValueAndParent","parentValue","finalValue","attrValue","property","functionName","finalValueObject","new_arguments","_argumentsString","_arguments","ArgumentUtil","analyze","argument","argType","agrumentInst","additionalArguArray","Array","slice","query","find","fuzzyFind","text","attributes","nodeName","directText","nodes","childNodes","node","nodeValue","trim","parentNode","argumentString","arr","jsonArr","JSON","parse","_template","_dependentScripts","_componentControllerScript","_stylesheet","ctrlAliasName","watchController","previousCtrlModel","changedElementCount","previousFinalValue","changedBoundItems","changedBoundItem","render","_eventType","_element","__awaiter","thisArg","P","generator","fulfilled","step","next","rejected","done","then","__generator","body","verb","n","v","op","f","TypeError","_","y","t","label","ops","pop","trys","sent","throw","return","BoundItemAttributeFactory_1","BoundItemExpression_1","BoundItemInnerText_1","BoundItemRepeat_1","BoundItemComponentAttribute_1","ElementActionBinder_1","EventListener_1","dealWithAttribute","BoundItemAttributeFactory","getInstance","generateInstance","elementChangedBinder","searchComponent","searchExpression","searchUkuAttribute","sortAttributes","subElement","orderAttrs","attribute","unshift","subElements","isSelfHasUkuTag","allChildren","child","matchElement","dealWithEvent","dealWithRepeat","dealWithInnerText","comp","attrs","compDef","_a","localName","dealWithComponent","children","Clazz","randomAlias","tempFragment","htmlDom","cc","Math","floor","random","insertAdjacentHTML","outerHTML","previousElementSibling","classList","add","fire","data","bubbles","cancelable","toLowerCase","setAttribute","BoundItemComponentAttribute","removeChild","_initialized","dealWithExpression","BoundItemExpression","BoundItemInnerText","eventName","eventNameInListener","alias_1","controller_1","temArr","EventListener","addEventListener","repeatExpression","itemName","BoundItemRepeat","BoundItemAttrSelected_1","BoundItemAttrDataItem_1","BoundItemAttrSrc_1","BoundItemAttrDisabled_1","BoundItemAttrRender_1","BoundItemAttrStyle_1","BoundItemAttrValue_1","BoundItemAttrVisible_1","BoundItemAttribute_1","_instance","instance","BountItemAttrSelected","BoundItemAttrDataItem","BoundItemAttrSrc","BoundItemAttrDisabled","BoundItemAttrRender","BoundItemAttrStyle","BoundItemAttrValue","BoundItemAttrVisible","BoundItemAttribute","elementName","BoundItemBase_1","BoundItemBase","_attrName","stringify","disabled","oldDisplaySetting","display","cssName","checked","visibility","renderTemplate","parentElement","beginCommentString","endCommentString","generateTempContainer","beginComment","createComment","insertBefore","endComment","nextSibling","treeWalker","createTreeWalker","NodeFilter","SHOW_COMMENT","acceptNode","FILTER_ACCEPT","FILTER_SKIP","nextNode","commentNode","currentNode","tempDiv","blankDiv","childrenHTML","removeAttribute","Uku_Clazz","ukulele","compPool","sibling","itemType","newOuterHtml","newItemDom","componentController","host","elementStrategies","inputTextCase","textareaCase","selectCase","checkboxCase","radioCase","goon","isSupportInputType","inputType","finalInstance","tmpArr","options","option","selected","selectedItem","on"],"mappings":"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","file":"uku.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar EventEmitter_1 = __webpack_require__(1);\r\n\tvar AsyncCaller_1 = __webpack_require__(2);\r\n\tvar DefinitionManager_1 = __webpack_require__(3);\r\n\tvar DirtyChecker_1 = __webpack_require__(13);\r\n\tvar Analyzer_1 = __webpack_require__(16);\r\n\tvar Selector_1 = __webpack_require__(10);\r\n\tvar UkuEventType_1 = __webpack_require__(14);\r\n\tvar Event_1 = __webpack_require__(15);\r\n\tvar Ukulele = (function (_super) {\r\n\t    __extends(Ukulele, _super);\r\n\t    function Ukulele() {\r\n\t        var _this = _super.apply(this, arguments) || this;\r\n\t        _this.asyncCaller = new AsyncCaller_1.AsyncCaller();\r\n\t        return _this;\r\n\t    }\r\n\t    Ukulele.prototype.init = function () {\r\n\t        var _this = this;\r\n\t        this.asyncCaller.exec(function () {\r\n\t            _this.manageApplication();\r\n\t        });\r\n\t    };\r\n\t    Ukulele.prototype.handleElement = function (element) {\r\n\t        var _this = this;\r\n\t        this.analyizeElement(element, function (e) {\r\n\t            _this.dispatchEvent(new Event_1.Event(UkuEventType_1.UkuEventType.HANDLE_ELEMENT_COMPLETED, e));\r\n\t        });\r\n\t    };\r\n\t    Ukulele.prototype.registerController = function (instanceName, controllerInst) {\r\n\t        this._internal_getDefinitionManager().addControllerDefinition(instanceName, controllerInst);\r\n\t    };\r\n\t    Ukulele.prototype.getController = function (instanceName) {\r\n\t        return this._internal_getDefinitionManager().getControllerDefinition(instanceName).controllerInstance;\r\n\t    };\r\n\t    Ukulele.prototype.registerComponent = function (tag, templateUrl, preload) {\r\n\t        this._internal_getDefinitionManager().addComponentDefinition(tag, templateUrl, preload, this.asyncCaller);\r\n\t    };\r\n\t    Ukulele.prototype.getComponent = function (tagName) {\r\n\t        return this._internal_getDefinitionManager().getComponent(tagName);\r\n\t    };\r\n\t    Ukulele.prototype.getComponentController = function (componentId) {\r\n\t        return this._internal_getDefinitionManager().getControllerInstByDomId(componentId);\r\n\t    };\r\n\t    Ukulele.prototype.refresh = function (alias, excludeElement) {\r\n\t        if (!this.dirtyChecker) {\r\n\t            this.dirtyChecker = new DirtyChecker_1.DirtyChecker(this);\r\n\t        }\r\n\t        this.dirtyChecker.runDirtyChecking(alias, excludeElement);\r\n\t    };\r\n\t    //internal function\r\n\t    Ukulele.prototype._internal_getDefinitionManager = function () {\r\n\t        if (!this.defMgr) {\r\n\t            this.defMgr = new DefinitionManager_1.DefinitionManager(this);\r\n\t        }\r\n\t        return this.defMgr;\r\n\t    };\r\n\t    Ukulele.prototype._internal_dealWithElement = function (element) {\r\n\t        this.analyizeElement(element);\r\n\t    };\r\n\t    Ukulele.prototype.manageApplication = function () {\r\n\t        var _this = this;\r\n\t        var apps = Selector_1.Selector.querySelectorAll(document, \"[uku-application]\");\r\n\t        if (apps.length === 1) {\r\n\t            this.analyizeElement(apps[0], function (ele) {\r\n\t                _this.dispatchEvent(new Event_1.Event(UkuEventType_1.UkuEventType.INITIALIZED, ele));\r\n\t            });\r\n\t        }\r\n\t        else {\r\n\t            throw new Error(\"Only one 'uku-application' can be declared in a whole html.\");\r\n\t        }\r\n\t    };\r\n\t    Ukulele.prototype.analyizeElement = function (element, callback) {\r\n\t        var anylyzer = new Analyzer_1.Analyzer(this);\r\n\t        if (callback) {\r\n\t            (function (retFunc) {\r\n\t                anylyzer.addListener(Analyzer_1.Analyzer.ANALYIZE_COMPLETED, function (e) {\r\n\t                    retFunc(e.element);\r\n\t                });\r\n\t            })(callback);\r\n\t        }\r\n\t        anylyzer.analyizeElement(element);\r\n\t    };\r\n\t    return Ukulele;\r\n\t}(EventEmitter_1.EventEmitter));\r\n\tUkulele.INITIALIZED = 'initialized';\r\n\tUkulele.REFRESH = 'refresh';\r\n\tUkulele.HANDLE_ELEMENT_COMPLETED = \"handle_element_completed\";\r\n\texports.Ukulele = Ukulele;\r\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar EventEmitter = (function () {\r\n\t    function EventEmitter() {\r\n\t        this.eventsPool = {};\r\n\t    }\r\n\t    EventEmitter.prototype.getEventsPool = function () {\r\n\t        return this.eventsPool;\r\n\t    };\r\n\t    EventEmitter.prototype.addListener = function (eventType, handler) {\r\n\t        if (!this.eventsPool[eventType]) {\r\n\t            this.eventsPool[eventType] = [];\r\n\t        }\r\n\t        this.eventsPool[eventType].push(handler);\r\n\t    };\r\n\t    EventEmitter.prototype.removeListener = function (eventType, handler) {\r\n\t        if (this.eventsPool[eventType]) {\r\n\t            for (var i = this.eventsPool[eventType].length - 1; i >= 0; i--) {\r\n\t                if (this.eventsPool[eventType][i] === handler) {\r\n\t                    this.eventsPool[eventType].splice(i, 1);\r\n\t                    break;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    EventEmitter.prototype.hasListener = function (eventType) {\r\n\t        if (this.eventsPool[eventType] && this.eventsPool[eventType].length > 0) {\r\n\t            return true;\r\n\t        }\r\n\t        return false;\r\n\t    };\r\n\t    EventEmitter.prototype.dispatchEvent = function (event) {\r\n\t        if (event && event.eventType) {\r\n\t            var handlers = this.eventsPool[event.eventType];\r\n\t            if (handlers) {\r\n\t                for (var i = 0; i < handlers.length; i++) {\r\n\t                    handlers[i].call(this, event);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    return EventEmitter;\r\n\t}());\r\n\texports.EventEmitter = EventEmitter;\r\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar FunctionObject = (function () {\r\n\t    function FunctionObject(_func, _argu) {\r\n\t        this.func = _func;\r\n\t        this.argu = _argu;\r\n\t    }\r\n\t    return FunctionObject;\r\n\t}());\r\n\tvar AsyncCaller = (function () {\r\n\t    function AsyncCaller() {\r\n\t        this.allTasksPool = [];\r\n\t        this.queueTasksPool = [];\r\n\t        this.execType = \"queue\";\r\n\t        this.errorMsg = \"Only one type of task can be executed at same time\";\r\n\t        Function.prototype.resolve = function (ac) {\r\n\t            ac.aysncFunRunOver.call(ac, this);\r\n\t        };\r\n\t    }\r\n\t    AsyncCaller.prototype.pushAll = function (asyncFunc, arguArr) {\r\n\t        if (this.queueTasksPool.length === 0) {\r\n\t            var funcObj = new FunctionObject(asyncFunc, arguArr);\r\n\t            this.allTasksPool.push(funcObj);\r\n\t        }\r\n\t        else {\r\n\t            console.error(this.errorMsg);\r\n\t        }\r\n\t        return this;\r\n\t    };\r\n\t    AsyncCaller.prototype.pushQueue = function (asyncFunc, arguArr) {\r\n\t        if (this.allTasksPool.length === 0) {\r\n\t            var funcObj = new FunctionObject(asyncFunc, arguArr);\r\n\t            this.queueTasksPool.push(funcObj);\r\n\t        }\r\n\t        else {\r\n\t            console.error(this.errorMsg);\r\n\t        }\r\n\t        return this;\r\n\t    };\r\n\t    AsyncCaller.prototype.aysncFunRunOver = function (caller) {\r\n\t        if (this.execType === \"queue\") {\r\n\t            if (this.queueTasksPool.length === 0) {\r\n\t                this.finalFunc && this.finalFunc();\r\n\t            }\r\n\t            else {\r\n\t                var funcObj = this.queueTasksPool[0];\r\n\t                this.queueTasksPool.shift();\r\n\t                funcObj.func.apply(funcObj, funcObj.argu);\r\n\t            }\r\n\t        }\r\n\t        else if (this.execType === \"all\") {\r\n\t            for (var i = 0; i < this.allTasksPool.length; i++) {\r\n\t                var task = this.allTasksPool[i];\r\n\t                if (caller === task.func) {\r\n\t                    this.allTasksPool.splice(i, 1);\r\n\t                    break;\r\n\t                }\r\n\t            }\r\n\t            if (this.allTasksPool.length === 0) {\r\n\t                this.finalFunc && this.finalFunc();\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    AsyncCaller.prototype.exec = function (callback) {\r\n\t        this.finalFunc = callback;\r\n\t        if (this.allTasksPool.length > 0) {\r\n\t            this.execType = \"all\";\r\n\t            this.executeAll();\r\n\t        }\r\n\t        else if (this.queueTasksPool.length > 0) {\r\n\t            this.execType = \"queue\";\r\n\t            this.executeQueue();\r\n\t        }\r\n\t        else {\r\n\t            this.finalFunc && this.finalFunc();\r\n\t        }\r\n\t    };\r\n\t    AsyncCaller.prototype.executeQueue = function () {\r\n\t        var funcObj = this.queueTasksPool[0];\r\n\t        this.queueTasksPool.shift();\r\n\t        funcObj.func.apply(funcObj, funcObj.argu);\r\n\t    };\r\n\t    ;\r\n\t    AsyncCaller.prototype.executeAll = function () {\r\n\t        for (var i = 0; i < this.allTasksPool.length; i++) {\r\n\t            var funcObj = this.allTasksPool[i];\r\n\t            funcObj.func.apply(funcObj, funcObj.argu);\r\n\t        }\r\n\t    };\r\n\t    ;\r\n\t    return AsyncCaller;\r\n\t}());\r\n\texports.AsyncCaller = AsyncCaller;\r\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar ObjectUtil_1 = __webpack_require__(4);\r\n\tvar Ajax_1 = __webpack_require__(5);\r\n\tvar ControllerModel_1 = __webpack_require__(6);\r\n\tvar AsyncCaller_1 = __webpack_require__(2);\r\n\tvar ComponentModel_1 = __webpack_require__(7);\r\n\tvar ComponentPoolItem_1 = __webpack_require__(8);\r\n\tvar UkuleleUtil_1 = __webpack_require__(9);\r\n\tvar DefinitionManager = (function () {\r\n\t    function DefinitionManager(_uku) {\r\n\t        this.controllersDefinition = {};\r\n\t        this.componentsDefinition = {};\r\n\t        this.componentsPool = {};\r\n\t        this.copyControllers = {};\r\n\t        this.dependentScriptsCache = {};\r\n\t        this.ajax = new Ajax_1.Ajax();\r\n\t        this.uku = _uku;\r\n\t    }\r\n\t    DefinitionManager.prototype.getComponentsDefinition = function () {\r\n\t        return this.componentsDefinition;\r\n\t    };\r\n\t    DefinitionManager.prototype.getComponentsPool = function () {\r\n\t        return this.componentsPool;\r\n\t    };\r\n\t    DefinitionManager.prototype.setComponentsPool = function (pool) {\r\n\t        this.componentsPool = pool;\r\n\t    };\r\n\t    DefinitionManager.prototype.setComponentsDefinition = function (value) {\r\n\t        this.componentsDefinition = value;\r\n\t    };\r\n\t    DefinitionManager.prototype.getComponentDefinition = function (tagName) {\r\n\t        return this.componentsDefinition[tagName];\r\n\t    };\r\n\t    DefinitionManager.prototype.getControllerDefinition = function (instanceName) {\r\n\t        return this.controllersDefinition[instanceName];\r\n\t    };\r\n\t    DefinitionManager.prototype.getControllersDefinition = function () {\r\n\t        return this.controllersDefinition;\r\n\t    };\r\n\t    DefinitionManager.prototype.getComponent = function (tagName) {\r\n\t        return this.componentsPool[tagName];\r\n\t    };\r\n\t    DefinitionManager.prototype.getCopyControllers = function () {\r\n\t        return this.copyControllers;\r\n\t    };\r\n\t    DefinitionManager.prototype.copyAllController = function () {\r\n\t        for (var alias in this.controllersDefinition) {\r\n\t            var controllerModel = this.controllersDefinition[alias];\r\n\t            var controller = controllerModel.controllerInstance;\r\n\t            this.copyControllerInstance(controller, alias);\r\n\t        }\r\n\t    };\r\n\t    DefinitionManager.prototype.copyControllerInstance = function (controller, alias) {\r\n\t        var previousCtrlInst = ObjectUtil_1.ObjectUtil.deepClone(controller);\r\n\t        delete this.copyControllers[alias];\r\n\t        this.copyControllers[alias] = previousCtrlInst;\r\n\t    };\r\n\t    DefinitionManager.prototype.addControllerDefinition = function (instanceName, controllerInst) {\r\n\t        var controllerModel = new ControllerModel_1.ControllerModel(instanceName, controllerInst);\r\n\t        controllerInst._alias = instanceName;\r\n\t        this.controllersDefinition[instanceName] = controllerModel;\r\n\t    };\r\n\t    DefinitionManager.prototype.getControllerInstByDomId = function (domId) {\r\n\t        for (var alias in this.controllersDefinition) {\r\n\t            var controllerModel = this.controllersDefinition[alias];\r\n\t            var controller = controllerModel.controllerInstance;\r\n\t            if (controller._dom && controller._dom.id === domId) {\r\n\t                return controller;\r\n\t            }\r\n\t        }\r\n\t        return undefined;\r\n\t    };\r\n\t    DefinitionManager.prototype.addComponentDefinition = function (tag, templateUrl, preload, asyncCaller) {\r\n\t        var _this = this;\r\n\t        if (!preload) {\r\n\t            this.componentsPool[tag] = new ComponentPoolItem_1.ComponentPoolItem(tag, templateUrl, true);\r\n\t        }\r\n\t        else {\r\n\t            this.componentsPool[tag] = new ComponentPoolItem_1.ComponentPoolItem(tag, templateUrl, false);\r\n\t            ;\r\n\t            asyncCaller.pushAll(dealWithComponentConfig, [tag, templateUrl]);\r\n\t        }\r\n\t        function dealWithComponentConfig(tag, template) {\r\n\t            _this.ajax.get(templateUrl, function (result) {\r\n\t                var componentConfig = UkuleleUtil_1.UkuleleUtil.getComponentConfiguration(result);\r\n\t                _this.analyizeComponent(tag, componentConfig, function () {\r\n\t                    dealWithComponentConfig.resolve(asyncCaller);\r\n\t                });\r\n\t            });\r\n\t        }\r\n\t    };\r\n\t    DefinitionManager.prototype.addLazyComponentDefinition = function (tag, templateUrl) {\r\n\t        var _this = this;\r\n\t        return new Promise(function (resolve, reject) {\r\n\t            _this.ajax.get(templateUrl, function (result) {\r\n\t                var componentConfig = UkuleleUtil_1.UkuleleUtil.getComponentConfiguration(result);\r\n\t                _this.analyizeComponent(tag, componentConfig, function () {\r\n\t                    _this.componentsPool[tag] = { 'tagName': tag, 'templateUrl': templateUrl, 'lazy': false };\r\n\t                    //callback();\r\n\t                    resolve();\r\n\t                });\r\n\t            });\r\n\t        });\r\n\t    };\r\n\t    DefinitionManager.prototype.getBoundAttributeValue = function (attr) {\r\n\t        var additionalArgu = [];\r\n\t        for (var _i = 1; _i < arguments.length; _i++) {\r\n\t            additionalArgu[_i - 1] = arguments[_i];\r\n\t        }\r\n\t        var controllerModel = this.getBoundControllerModelByName(attr);\r\n\t        var controllerInst = controllerModel.controllerInstance;\r\n\t        //let result = UkuleleUtil.getFinalValue(this.uku, controllerInst, attr, additionalArgu);\r\n\t        var parameters = [this.uku, controllerInst, attr];\r\n\t        parameters = parameters.concat(additionalArgu);\r\n\t        var result = UkuleleUtil_1.UkuleleUtil.getFinalValue.apply(null, parameters);\r\n\t        return result;\r\n\t    };\r\n\t    ;\r\n\t    DefinitionManager.prototype.getControllerModelByName = function (expression) {\r\n\t        return this.getBoundControllerModelByName(expression);\r\n\t    };\r\n\t    ;\r\n\t    DefinitionManager.prototype.getFinalValueByExpression = function (expression) {\r\n\t        var controller = this.getControllerModelByName(expression).controllerInstance;\r\n\t        return UkuleleUtil_1.UkuleleUtil.getFinalValue(this.uku, controller, expression);\r\n\t    };\r\n\t    ;\r\n\t    DefinitionManager.prototype.getBoundControllerModelByName = function (attrName) {\r\n\t        var instanceName = UkuleleUtil_1.UkuleleUtil.getBoundModelInstantName(attrName);\r\n\t        var controllerModel = this.controllersDefinition[instanceName];\r\n\t        if (!controllerModel) {\r\n\t            var tempArr = attrName.split(\".\");\r\n\t            var isParentScope = tempArr[0];\r\n\t            if (isParentScope === \"parent\" && this.uku.parentUku) {\r\n\t                tempArr.shift();\r\n\t                attrName = tempArr.join(\".\");\r\n\t                return this.uku.parentUku._internal_getDefinitionManager().getControllerModelByName(attrName);\r\n\t            }\r\n\t        }\r\n\t        return controllerModel;\r\n\t    };\r\n\t    DefinitionManager.prototype.analyizeComponent = function (tag, config, callback) {\r\n\t        var _this = this;\r\n\t        var deps = config.dependentScripts;\r\n\t        var self = this;\r\n\t        if (deps && deps.length > 0) {\r\n\t            var ac = new AsyncCaller_1.AsyncCaller();\r\n\t            var tmpAMD_1;\r\n\t            if (typeof window['define'] === 'function' && window['define'].amd) {\r\n\t                tmpAMD_1 = window['define'];\r\n\t                window['define'] = undefined;\r\n\t            }\r\n\t            for (var i = 0; i < deps.length; i++) {\r\n\t                var dep = deps[i];\r\n\t                ac.pushAll(loadDependentScript, [ac, dep]);\r\n\t            }\r\n\t            ac.exec(function () {\r\n\t                if (tmpAMD_1) {\r\n\t                    window['define'] = tmpAMD_1;\r\n\t                }\r\n\t                _this.buildeComponentModel(tag, config.template, config.componentControllerScript, config.stylesheet);\r\n\t                callback();\r\n\t            });\r\n\t        }\r\n\t        else {\r\n\t            this.buildeComponentModel(tag, config.template, config.componentControllerScript, config.stylesheet);\r\n\t            callback();\r\n\t        }\r\n\t        function loadDependentScript(ac, src) {\r\n\t            if (!self.dependentScriptsCache[src]) {\r\n\t                var head = document.getElementsByTagName('HEAD')[0];\r\n\t                var script = document.createElement('script');\r\n\t                script.type = 'text/javascript';\r\n\t                script.charset = 'utf-8';\r\n\t                script.async = true;\r\n\t                script.src = src;\r\n\t                script.onload = function (e) {\r\n\t                    self.dependentScriptsCache[e.target['src']] = true;\r\n\t                    loadDependentScript.resolve(ac);\r\n\t                };\r\n\t                head.appendChild(script);\r\n\t            }\r\n\t            else {\r\n\t                loadDependentScript.resolve(ac);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    DefinitionManager.prototype.buildeComponentModel = function (tag, template, script, style) {\r\n\t        var debugComment = \"//# sourceURL=\" + tag + \".js\";\r\n\t        try {\r\n\t            var controllerClazz = void 0;\r\n\t            if (script) {\r\n\t                script += debugComment;\r\n\t                controllerClazz = eval(script);\r\n\t            }\r\n\t            var newComp = new ComponentModel_1.ComponentModel(tag, template, controllerClazz);\r\n\t            this.componentsDefinition[tag] = newComp;\r\n\t            if (style) {\r\n\t                dealWithShadowStyle(tag, style);\r\n\t            }\r\n\t        }\r\n\t        catch (e) {\r\n\t            console.error(e);\r\n\t        }\r\n\t        function dealWithShadowStyle(tagName, stylesheet) {\r\n\t            var head = document.getElementsByTagName('HEAD')[0];\r\n\t            var style = document.createElement('style');\r\n\t            style.type = 'text/css';\r\n\t            var styleArray = stylesheet.split(\"}\");\r\n\t            var newArray = [];\r\n\t            styleArray.forEach(function (value, index) {\r\n\t                var newValue = value.replace(/^\\s*/, \"\");\r\n\t                if (newValue) {\r\n\t                    newArray.push(newValue);\r\n\t                }\r\n\t            });\r\n\t            stylesheet = newArray.join(\"}\\n\" + \".\" + tagName + \" \");\r\n\t            stylesheet = \".\" + tagName + \" \" + stylesheet + \"}\";\r\n\t            style.innerHTML = stylesheet;\r\n\t            head.appendChild(style);\r\n\t        }\r\n\t    };\r\n\t    return DefinitionManager;\r\n\t}());\r\n\texports.DefinitionManager = DefinitionManager;\r\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar ObjectUtil = (function () {\r\n\t    function ObjectUtil() {\r\n\t    }\r\n\t    ObjectUtil.isArray = function (obj) {\r\n\t        return Object.prototype.toString.call(obj) === '[object Array]';\r\n\t    };\r\n\t    ObjectUtil.getType = function (obj) {\r\n\t        var type = typeof (obj);\r\n\t        if (type === \"object\") {\r\n\t            if (ObjectUtil.isArray(obj)) {\r\n\t                return \"array\";\r\n\t            }\r\n\t            else {\r\n\t                return type;\r\n\t            }\r\n\t        }\r\n\t        else {\r\n\t            return type;\r\n\t        }\r\n\t    };\r\n\t    ObjectUtil.compare = function (objA, objB) {\r\n\t        var type = ObjectUtil.getType(objA);\r\n\t        var typeB = ObjectUtil.getType(objB);\r\n\t        var result = true;\r\n\t        if (type !== typeB) {\r\n\t            return false;\r\n\t        }\r\n\t        else {\r\n\t            switch (type) {\r\n\t                case \"object\":\r\n\t                    for (var key in objA) {\r\n\t                        var valuA = objA[key];\r\n\t                        var valuB = objB[key];\r\n\t                        var isEqual = ObjectUtil.compare(valuA, valuB);\r\n\t                        if (!isEqual) {\r\n\t                            result = false;\r\n\t                            break;\r\n\t                        }\r\n\t                    }\r\n\t                    break;\r\n\t                case \"array\":\r\n\t                    if (objA.length === objB.length) {\r\n\t                        for (var i = 0; i < objA.length; i++) {\r\n\t                            var itemA = objA[i];\r\n\t                            var itemB = objB[i];\r\n\t                            var isEqual2 = ObjectUtil.compare(itemA, itemB);\r\n\t                            if (!isEqual2) {\r\n\t                                result = false;\r\n\t                                break;\r\n\t                            }\r\n\t                        }\r\n\t                    }\r\n\t                    else {\r\n\t                        result = false;\r\n\t                    }\r\n\t                    break;\r\n\t                case \"function\":\r\n\t                    result = objA.toString() === objB.toString();\r\n\t                    break;\r\n\t                default:\r\n\t                    result = objA === objB;\r\n\t                    break;\r\n\t            }\r\n\t        }\r\n\t        return result;\r\n\t    };\r\n\t    ObjectUtil.deepClone = function (obj) {\r\n\t        var o;\r\n\t        var i;\r\n\t        var j;\r\n\t        if (typeof (obj) !== \"object\" || obj === null) {\r\n\t            return obj;\r\n\t        }\r\n\t        if (obj instanceof (Array)) {\r\n\t            o = [];\r\n\t            i = 0;\r\n\t            j = obj.length;\r\n\t            for (; i < j; i++) {\r\n\t                if (typeof (obj[i]) === \"object\" && obj[i] !== null) {\r\n\t                    o[i] = ObjectUtil.deepClone(obj[i]);\r\n\t                }\r\n\t                else {\r\n\t                    o[i] = obj[i];\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        else {\r\n\t            o = {};\r\n\t            for (i in obj) {\r\n\t                if (typeof (obj[i]) === \"object\" && obj[i] !== null && i !== \"_dom\") {\r\n\t                    o[i] = ObjectUtil.deepClone(obj[i]);\r\n\t                }\r\n\t                else {\r\n\t                    o[i] = obj[i];\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        return o;\r\n\t    };\r\n\t    return ObjectUtil;\r\n\t}());\r\n\texports.ObjectUtil = ObjectUtil;\r\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar Ajax = (function () {\r\n\t    function Ajax() {\r\n\t    }\r\n\t    Ajax.prototype.get = function (url, success, error) {\r\n\t        var request = new XMLHttpRequest();\r\n\t        request.onreadystatechange = function () {\r\n\t            if (request.readyState === 4) {\r\n\t                if (request.status === 200) {\r\n\t                    success(request.responseText);\r\n\t                }\r\n\t                else {\r\n\t                    if (error) {\r\n\t                        error();\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        };\r\n\t        request.open(\"GET\", url, true);\r\n\t        request.send(null);\r\n\t    };\r\n\t    return Ajax;\r\n\t}());\r\n\texports.Ajax = Ajax;\r\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar ControllerModel = (function () {\r\n\t    function ControllerModel(alias, ctrlInst) {\r\n\t        this.alias = alias;\r\n\t        this.controllerInstance = ctrlInst;\r\n\t        this.boundItems = [];\r\n\t    }\r\n\t    ControllerModel.prototype.addBoundItem = function (boundItem) {\r\n\t        this.boundItems.push(boundItem);\r\n\t    };\r\n\t    ControllerModel.prototype.getBoundItemsByName = function (name) {\r\n\t        var tempBoundItems = [];\r\n\t        for (var i = 0; i < this.boundItems.length; i++) {\r\n\t            var boundItem = this.boundItems[i];\r\n\t            if (boundItem.attributeName === name) {\r\n\t                tempBoundItems.push(boundItem);\r\n\t            }\r\n\t        }\r\n\t        return tempBoundItems;\r\n\t    };\r\n\t    return ControllerModel;\r\n\t}());\r\n\texports.ControllerModel = ControllerModel;\r\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar ComponentModel = (function () {\r\n\t    function ComponentModel(tagName, template, clazz) {\r\n\t        this.tagName = tagName;\r\n\t        this.template = template;\r\n\t        this.controllerClazz = clazz;\r\n\t    }\r\n\t    return ComponentModel;\r\n\t}());\r\n\texports.ComponentModel = ComponentModel;\r\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar ComponentPoolItem = (function () {\r\n\t    function ComponentPoolItem(_tagName, _templateUrl, _lazy) {\r\n\t        this.tagName = _tagName;\r\n\t        this.templateUrl = _templateUrl;\r\n\t        this.lazy = _lazy;\r\n\t    }\r\n\t    return ComponentPoolItem;\r\n\t}());\r\n\texports.ComponentPoolItem = ComponentPoolItem;\r\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar Selector_1 = __webpack_require__(10);\r\n\tvar ArgumentUtil_1 = __webpack_require__(11);\r\n\tvar ComponentConfiguration_1 = __webpack_require__(12);\r\n\tvar ValueAndParent = (function () {\r\n\t    function ValueAndParent(_value, _parant) {\r\n\t        this.value = _value;\r\n\t        this.parent = _parant;\r\n\t    }\r\n\t    return ValueAndParent;\r\n\t}());\r\n\tvar UkuleleUtil = (function () {\r\n\t    function UkuleleUtil() {\r\n\t    }\r\n\t    UkuleleUtil.getFinalAttribute = function (expression) {\r\n\t        var temp = expression.split(\".\");\r\n\t        var isParent = temp.shift();\r\n\t        if (isParent === \"parent\") {\r\n\t            return UkuleleUtil.getFinalAttribute(temp.join(\".\"));\r\n\t        }\r\n\t        return temp.join(\".\");\r\n\t    };\r\n\t    UkuleleUtil.searchHtmlTag = function (htmlString, tagName) {\r\n\t        var reTemp = \"^<\" + tagName + \"[\\\\s\\\\S]*>\" + \"[\\\\s\\\\S]*</\" + tagName + \">$\";\r\n\t        var re = new RegExp(reTemp);\r\n\t        var index = htmlString.search(re);\r\n\t        return index;\r\n\t    };\r\n\t    UkuleleUtil.getInnerHtml = function (htmlString, tagName) {\r\n\t        var reTemp = \"<\" + tagName + \"[\\\\s\\\\S]*>\" + \"[\\\\s\\\\S]*</\" + tagName + \">\";\r\n\t        var re = new RegExp(reTemp);\r\n\t        var match = htmlString.match(re);\r\n\t        if (match.index > -1) {\r\n\t            var matchString = match[0];\r\n\t            var index = matchString.search(\">\");\r\n\t            var tempString = matchString.substr(index + 1);\r\n\t            var index2 = tempString.lastIndexOf(\"</\");\r\n\t            tempString = tempString.substring(0, index2);\r\n\t            tempString = tempString.replace(/(^\\s*)|(\\s*$)/g, \"\");\r\n\t            console.log(tempString);\r\n\t            return tempString;\r\n\t        }\r\n\t        else {\r\n\t            return null;\r\n\t        }\r\n\t    };\r\n\t    UkuleleUtil.getComponentConfiguration = function (htmlString) {\r\n\t        var tempDom = document.createElement(\"div\");\r\n\t        tempDom.innerHTML = htmlString;\r\n\t        var tpl = Selector_1.Selector.querySelectorAll(tempDom, \"template\");\r\n\t        var scripts = Selector_1.Selector.querySelectorAll(tempDom, \"script\");\r\n\t        var stylesheet = Selector_1.Selector.querySelectorAll(tempDom, \"style\");\r\n\t        var deps = [];\r\n\t        var ccs = null;\r\n\t        for (var i = 0; i < scripts.length; i++) {\r\n\t            var script = scripts[i];\r\n\t            if (script.src !== \"\") {\r\n\t                deps.push(script.src);\r\n\t            }\r\n\t            else {\r\n\t                ccs = script.innerHTML;\r\n\t            }\r\n\t        }\r\n\t        if (stylesheet && stylesheet[0]) {\r\n\t            return new ComponentConfiguration_1.ComponentConfiguration(tpl[0].innerHTML, deps, ccs, stylesheet[0].innerHTML);\r\n\t        }\r\n\t        else {\r\n\t            return new ComponentConfiguration_1.ComponentConfiguration(tpl[0].innerHTML, deps, ccs);\r\n\t        }\r\n\t    };\r\n\t    UkuleleUtil.searchUkuAttrTag = function (htmlString) {\r\n\t        var re = /^uku\\-.*/;\r\n\t        var index = htmlString.search(re);\r\n\t        return index;\r\n\t    };\r\n\t    UkuleleUtil.getAttrFromUkuTag = function (ukuTag, camelCase) {\r\n\t        if (camelCase === void 0) { camelCase = false; }\r\n\t        if (UkuleleUtil.searchUkuAttrTag(ukuTag) === 0) {\r\n\t            ukuTag = ukuTag.replace('uku-', '');\r\n\t        }\r\n\t        if (camelCase) {\r\n\t            var names = ukuTag.split('-');\r\n\t            ukuTag = names[0];\r\n\t            for (var i = 1; i < names.length; i++) {\r\n\t                var firstLetter = names[i].charAt(0).toUpperCase();\r\n\t                ukuTag = ukuTag + firstLetter + names[i].substr(1);\r\n\t            }\r\n\t        }\r\n\t        return ukuTag;\r\n\t    };\r\n\t    UkuleleUtil.searchUkuExpTag = function (expression) {\r\n\t        var re = /^\\{\\{.*\\}\\}$/;\r\n\t        var index = expression.search(re);\r\n\t        return index;\r\n\t    };\r\n\t    UkuleleUtil.searchUkuFuncArg = function (htmlString) {\r\n\t        var re = /\\(.*\\)$/;\r\n\t        var index = htmlString.search(re);\r\n\t        return index;\r\n\t    };\r\n\t    UkuleleUtil.isRepeat = function (element) {\r\n\t        if (element.getAttribute(\"uku-repeat\")) {\r\n\t            return true;\r\n\t        }\r\n\t        return false;\r\n\t    };\r\n\t    UkuleleUtil.isInRepeat = function (element) {\r\n\t        var parents = Selector_1.Selector.parents(element);\r\n\t        for (var i = 0; i < parents.length; i++) {\r\n\t            var parent_1 = parents[i];\r\n\t            if (parent_1.nodeType !== 9) {\r\n\t                var b = parent_1.getAttribute(\"uku-repeat\");\r\n\t                if (b) {\r\n\t                    return true;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        return false;\r\n\t    };\r\n\t    UkuleleUtil.getBoundModelInstantName = function (expression) {\r\n\t        var controlInstName = expression.split('.')[0];\r\n\t        if (controlInstName) {\r\n\t            return controlInstName;\r\n\t        }\r\n\t        return undefined;\r\n\t    };\r\n\t    UkuleleUtil.getAttributeFinalValue = function (object, attrName) {\r\n\t        var valueObject = UkuleleUtil.getAttributeFinalValueAndParent(object, attrName);\r\n\t        var value = valueObject.value;\r\n\t        return value;\r\n\t    };\r\n\t    UkuleleUtil.getAttributeFinalValueAndParent = function (object, attrName) {\r\n\t        var finalValue = object;\r\n\t        var parentValue;\r\n\t        if (typeof attrName === \"string\") {\r\n\t            var attrValue = UkuleleUtil.getFinalAttribute(attrName);\r\n\t            var temp = attrValue.split(\".\");\r\n\t            if (attrValue !== \"\" && finalValue) {\r\n\t                for (var i = 0; i < temp.length; i++) {\r\n\t                    var property = temp[i];\r\n\t                    parentValue = finalValue;\r\n\t                    finalValue = finalValue[property];\r\n\t                    if (finalValue === undefined || finalValue === null) {\r\n\t                        break;\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t            else {\r\n\t                if (object.hasOwnProperty(\"_alias\") && object._alias === attrName) {\r\n\t                    finalValue = object;\r\n\t                }\r\n\t                else {\r\n\t                    finalValue = attrName;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        return new ValueAndParent(finalValue, parentValue);\r\n\t    };\r\n\t    UkuleleUtil.getFinalValue = function (uku, object, attrName) {\r\n\t        var additionalArgu = [];\r\n\t        for (var _i = 3; _i < arguments.length; _i++) {\r\n\t            additionalArgu[_i - 3] = arguments[_i];\r\n\t        }\r\n\t        var index = -1;\r\n\t        if (typeof attrName === \"string\") {\r\n\t            index = UkuleleUtil.searchUkuFuncArg(attrName);\r\n\t        }\r\n\t        if (index === -1) {\r\n\t            //is attribute\r\n\t            return UkuleleUtil.getAttributeFinalValue(object, attrName);\r\n\t        }\r\n\t        else {\r\n\t            //is function\r\n\t            var functionName = attrName.substring(0, index);\r\n\t            var finalValueObject = UkuleleUtil.getAttributeFinalValueAndParent(object, functionName);\r\n\t            var finalValue = finalValueObject.value;\r\n\t            if (finalValue === undefined) {\r\n\t                return finalValue;\r\n\t            }\r\n\t            var new_arguments = [];\r\n\t            var _argumentsString = attrName.substring(index + 1, attrName.length - 1);\r\n\t            if (_argumentsString !== \"\") {\r\n\t                var _arguments = ArgumentUtil_1.ArgumentUtil.analyze(_argumentsString, uku);\r\n\t                for (var i = 0; i < _arguments.length; i++) {\r\n\t                    var temp = void 0;\r\n\t                    var argument = _arguments[i];\r\n\t                    var argType = typeof argument;\r\n\t                    var controllerModel = null;\r\n\t                    if (argType === \"string\") {\r\n\t                        controllerModel = uku._internal_getDefinitionManager().getControllerModelByName(argument);\r\n\t                        if (controllerModel && controllerModel.controllerInstance) {\r\n\t                            var agrumentInst = controllerModel.controllerInstance;\r\n\t                            if (argument.split(\".\").length === 1) {\r\n\t                                temp = agrumentInst;\r\n\t                            }\r\n\t                            else {\r\n\t                                temp = UkuleleUtil.getFinalValue(uku, agrumentInst, argument);\r\n\t                            }\r\n\t                        }\r\n\t                        else {\r\n\t                            temp = UkuleleUtil.getFinalValue(uku, object, argument);\r\n\t                        }\r\n\t                        new_arguments.push(temp);\r\n\t                    }\r\n\t                    else {\r\n\t                        new_arguments.push(argument);\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t            if (additionalArgu) {\r\n\t                var additionalArguArray = Array.prototype.slice.call(additionalArgu);\r\n\t                new_arguments = new_arguments.concat(additionalArguArray);\r\n\t            }\r\n\t            finalValue = finalValue.apply(finalValueObject.parent, new_arguments);\r\n\t            return finalValue;\r\n\t        }\r\n\t    };\r\n\t    return UkuleleUtil;\r\n\t}());\r\n\texports.UkuleleUtil = UkuleleUtil;\r\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar Selector = (function () {\r\n\t    function Selector() {\r\n\t    }\r\n\t    Selector.querySelectorAll = function (element, query) {\r\n\t        if (window.hasOwnProperty('jQuery') && typeof window['jQuery'] !== \"undefined\") {\r\n\t            return window['jQuery'](element).find(query);\r\n\t        }\r\n\t        else {\r\n\t            return element.querySelectorAll(query);\r\n\t        }\r\n\t    };\r\n\t    Selector.fuzzyFind = function (element, text) {\r\n\t        if (element && element.attributes) {\r\n\t            for (var i = 0; i < element.attributes.length; i++) {\r\n\t                var attr = element.attributes[i];\r\n\t                if (attr.nodeName.search(text) > -1) {\r\n\t                    return element;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        return null;\r\n\t    };\r\n\t    Selector.directText = function (element, text) {\r\n\t        var o = \"\";\r\n\t        var nodes = element.childNodes;\r\n\t        for (var i = 0; i <= nodes.length - 1; i++) {\r\n\t            var node = nodes[i];\r\n\t            if (node.nodeType === 3) {\r\n\t                if (text || text === \"\" || text === 0 || text === false) {\r\n\t                    node.nodeValue = text;\r\n\t                    return;\r\n\t                }\r\n\t                else {\r\n\t                    o += node.nodeValue;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        return o.trim();\r\n\t    };\r\n\t    Selector.parents = function (element) {\r\n\t        var parents = [];\r\n\t        while (element.parentNode && element.parentNode.tagName !== 'BODY') {\r\n\t            parents.push(element.parentNode);\r\n\t            element = element.parentNode;\r\n\t        }\r\n\t        return parents;\r\n\t    };\r\n\t    return Selector;\r\n\t}());\r\n\texports.Selector = Selector;\r\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar ArgumentUtil = (function () {\r\n\t    function ArgumentUtil() {\r\n\t    }\r\n\t    ArgumentUtil.analyze = function (argumentString, uku) {\r\n\t        //let re:RegExp = /^\\{\\{.*\\}\\}$/;\r\n\t        argumentString = argumentString.replace(/'/g, '\"');\r\n\t        var tempArr = argumentString.split(\",\");\r\n\t        for (var i = 0; i < tempArr.length; i++) {\r\n\t            var arr = tempArr[i];\r\n\t            for (var alias in uku._internal_getDefinitionManager().getControllersDefinition()) {\r\n\t                var index = arr.search(alias);\r\n\t                var index2 = arr.search(\"parent.\");\r\n\t                if (index > -1 || index2 > -1) {\r\n\t                    tempArr[i] = '\"' + arr + '\"';\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        argumentString = tempArr.join(\",\");\r\n\t        argumentString = '[' + argumentString + ']';\r\n\t        try {\r\n\t            var jsonArr = JSON.parse(argumentString);\r\n\t            return jsonArr;\r\n\t        }\r\n\t        catch (e) {\r\n\t            console.error(e);\r\n\t            return null;\r\n\t        }\r\n\t    };\r\n\t    return ArgumentUtil;\r\n\t}());\r\n\texports.ArgumentUtil = ArgumentUtil;\r\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar ComponentConfiguration = (function () {\r\n\t    function ComponentConfiguration(_template, _dependentScripts, _componentControllerScript, _stylesheet) {\r\n\t        if (_stylesheet === void 0) { _stylesheet = undefined; }\r\n\t        this.template = _template;\r\n\t        this.dependentScripts = _dependentScripts;\r\n\t        this.componentControllerScript = _componentControllerScript;\r\n\t        this.stylesheet = _stylesheet;\r\n\t    }\r\n\t    return ComponentConfiguration;\r\n\t}());\r\n\texports.ComponentConfiguration = ComponentConfiguration;\r\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar UkuleleUtil_1 = __webpack_require__(9);\r\n\tvar ObjectUtil_1 = __webpack_require__(4);\r\n\tvar UkuEventType_1 = __webpack_require__(14);\r\n\tvar Event_1 = __webpack_require__(15);\r\n\tvar DirtyChecker = (function () {\r\n\t    function DirtyChecker(_uku) {\r\n\t        this.uku = _uku;\r\n\t        this.defMgr = this.uku._internal_getDefinitionManager();\r\n\t    }\r\n\t    DirtyChecker.prototype.runDirtyChecking = function (ctrlAliasName, excludeElement) {\r\n\t        var _this = this;\r\n\t        if (ctrlAliasName) {\r\n\t            if (typeof (ctrlAliasName) === \"string\") {\r\n\t                watchController(ctrlAliasName);\r\n\t            }\r\n\t            else if (ObjectUtil_1.ObjectUtil.isArray(ctrlAliasName)) {\r\n\t                for (var i = 0; i < ctrlAliasName.length; i++) {\r\n\t                    watchController(ctrlAliasName[i]);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        else {\r\n\t            for (var alias in this.defMgr.getControllersDefinition()) {\r\n\t                watchController(alias);\r\n\t            }\r\n\t        }\r\n\t        function watchController(alias) {\r\n\t            var controllerModel = _this.defMgr.getControllersDefinition()[alias];\r\n\t            if (!controllerModel) {\r\n\t                if (_this.uku.parentUku) {\r\n\t                    _this.uku.parentUku.refresh(alias);\r\n\t                }\r\n\t                return;\r\n\t            }\r\n\t            var controller = controllerModel.controllerInstance;\r\n\t            var previousCtrlModel = _this.defMgr.getCopyControllers()[alias];\r\n\t            var changedElementCount = 0;\r\n\t            for (var i = 0; i < controllerModel.boundItems.length; i++) {\r\n\t                var boundItem = controllerModel.boundItems[i];\r\n\t                var attrName = boundItem.attributeName;\r\n\t                if (attrName.search('parent.') > -1) {\r\n\t                    return;\r\n\t                }\r\n\t                if (previousCtrlModel) {\r\n\t                    if (boundItem.hasOwnProperty('ukuTag') && boundItem['ukuTag'] === \"selected\") {\r\n\t                        attrName = attrName.split(\"|\")[0];\r\n\t                    }\r\n\t                    var finalValue = UkuleleUtil_1.UkuleleUtil.getFinalValue(_this.uku, controller, attrName);\r\n\t                    var previousFinalValue = UkuleleUtil_1.UkuleleUtil.getFinalValue(_this.uku, previousCtrlModel, attrName);\r\n\t                    if (!ObjectUtil_1.ObjectUtil.compare(previousFinalValue, finalValue)) {\r\n\t                        attrName = boundItem.attributeName;\r\n\t                        var changedBoundItems = controllerModel.getBoundItemsByName(attrName);\r\n\t                        for (var j = 0; j < changedBoundItems.length; j++) {\r\n\t                            var changedBoundItem = changedBoundItems[j];\r\n\t                            if (changedBoundItem.element !== excludeElement || (boundItem.hasOwnProperty('ukuTag') && changedBoundItem['ukuTag'] !== \"value\")) {\r\n\t                                changedElementCount++;\r\n\t                                changedBoundItem.render(controller);\r\n\t                            }\r\n\t                        }\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t            if (changedElementCount > 0 && _this.uku.hasListener(UkuEventType_1.UkuEventType.REFRESH)) {\r\n\t                _this.uku.dispatchEvent(new Event_1.Event(UkuEventType_1.UkuEventType.REFRESH));\r\n\t            }\r\n\t            _this.defMgr.copyControllerInstance(controller, alias);\r\n\t        }\r\n\t    };\r\n\t    ;\r\n\t    return DirtyChecker;\r\n\t}());\r\n\texports.DirtyChecker = DirtyChecker;\r\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar UkuEventType = (function () {\r\n\t    function UkuEventType() {\r\n\t    }\r\n\t    return UkuEventType;\r\n\t}());\r\n\tUkuEventType.INITIALIZED = 'initialized';\r\n\tUkuEventType.REFRESH = 'refresh';\r\n\tUkuEventType.HANDLE_ELEMENT_COMPLETED = \"handle_element_completed\";\r\n\texports.UkuEventType = UkuEventType;\r\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar Event = (function () {\r\n\t    function Event(_eventType, _element) {\r\n\t        this.eventType = _eventType;\r\n\t        this.element = _element;\r\n\t    }\r\n\t    return Event;\r\n\t}());\r\n\texports.Event = Event;\r\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n\t    return new (P || (P = Promise))(function (resolve, reject) {\r\n\t        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n\t        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n\t        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n\t        step((generator = generator.apply(thisArg, _arguments)).next());\r\n\t    });\r\n\t};\r\n\tvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n\t    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t;\r\n\t    return { next: verb(0), \"throw\": verb(1), \"return\": verb(2) };\r\n\t    function verb(n) { return function (v) { return step([n, v]); }; }\r\n\t    function step(op) {\r\n\t        if (f) throw new TypeError(\"Generator is already executing.\");\r\n\t        while (_) try {\r\n\t            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n\t            if (y = 0, t) op = [0, t.value];\r\n\t            switch (op[0]) {\r\n\t                case 0: case 1: t = op; break;\r\n\t                case 4: _.label++; return { value: op[1], done: false };\r\n\t                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n\t                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n\t                default:\r\n\t                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n\t                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n\t                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n\t                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n\t                    if (t[2]) _.ops.pop();\r\n\t                    _.trys.pop(); continue;\r\n\t            }\r\n\t            op = body.call(thisArg, _);\r\n\t        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n\t        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n\t    }\r\n\t};\r\n\tvar EventEmitter_1 = __webpack_require__(1);\r\n\tvar UkuleleUtil_1 = __webpack_require__(9);\r\n\tvar BoundItemAttributeFactory_1 = __webpack_require__(17);\r\n\tvar BoundItemExpression_1 = __webpack_require__(28);\r\n\tvar BoundItemInnerText_1 = __webpack_require__(29);\r\n\tvar BoundItemRepeat_1 = __webpack_require__(30);\r\n\tvar BoundItemComponentAttribute_1 = __webpack_require__(31);\r\n\tvar ElementActionBinder_1 = __webpack_require__(32);\r\n\tvar EventListener_1 = __webpack_require__(33);\r\n\tvar Selector_1 = __webpack_require__(10);\r\n\tvar Event_1 = __webpack_require__(15);\r\n\tvar Analyzer = (function (_super) {\r\n\t    __extends(Analyzer, _super);\r\n\t    function Analyzer(_uku) {\r\n\t        var _this = _super.call(this) || this;\r\n\t        //处理绑定的attribute\r\n\t        _this.dealWithAttribute = function (element, tagName) {\r\n\t            var attr = element.getAttribute(\"uku-\" + tagName);\r\n\t            //let elementName = element.tagName;\r\n\t            var controllerModel = this.defMgr.getControllerModelByName(attr);\r\n\t            if (controllerModel) {\r\n\t                var boundItem = BoundItemAttributeFactory_1.BoundItemAttributeFactory.getInstance().generateInstance(attr, tagName, element, this.uku);\r\n\t                controllerModel.addBoundItem(boundItem);\r\n\t                boundItem.render(controllerModel.controllerInstance);\r\n\t                ElementActionBinder_1.elementChangedBinder(element, tagName, controllerModel, this.uku.refresh, this.uku);\r\n\t            }\r\n\t        };\r\n\t        _this.uku = _uku;\r\n\t        _this.defMgr = _this.uku._internal_getDefinitionManager();\r\n\t        return _this;\r\n\t    }\r\n\t    //解析html中各个uku的tag\r\n\t    Analyzer.prototype.analyizeElement = function (ele) {\r\n\t        var _this = this;\r\n\t        this.searchComponent(ele).then(function (element) {\r\n\t            _this.searchExpression(element);\r\n\t            _this.searchUkuAttribute(element);\r\n\t            _this.defMgr.copyAllController();\r\n\t            if (_this.hasListener(Analyzer.ANALYIZE_COMPLETED)) {\r\n\t                _this.dispatchEvent(new Event_1.Event(Analyzer.ANALYIZE_COMPLETED, element));\r\n\t            }\r\n\t        });\r\n\t    };\r\n\t    Analyzer.prototype.sortAttributes = function (subElement) {\r\n\t        var orderAttrs = [];\r\n\t        for (var i = 0; i < subElement.attributes.length; i++) {\r\n\t            var attribute = subElement.attributes[i];\r\n\t            if (attribute.nodeName.search(\"uku-on\") !== -1) {\r\n\t                orderAttrs.push(attribute);\r\n\t            }\r\n\t            else {\r\n\t                orderAttrs.unshift(attribute);\r\n\t            }\r\n\t        }\r\n\t        return orderAttrs;\r\n\t    };\r\n\t    Analyzer.prototype.searchUkuAttribute = function (element) {\r\n\t        var subElements = [];\r\n\t        //scan element which has uku-* tag\r\n\t        var isSelfHasUkuTag = Selector_1.Selector.fuzzyFind(element, 'uku-');\r\n\t        if (isSelfHasUkuTag) {\r\n\t            subElements.push(isSelfHasUkuTag);\r\n\t        }\r\n\t        var allChildren = Selector_1.Selector.querySelectorAll(element, \"*\");\r\n\t        for (var i = 0; i < allChildren.length; i++) {\r\n\t            var child = allChildren[i];\r\n\t            var matchElement = Selector_1.Selector.fuzzyFind(child, 'uku-');\r\n\t            if (matchElement && !UkuleleUtil_1.UkuleleUtil.isInRepeat(matchElement)) {\r\n\t                subElements.push(matchElement);\r\n\t            }\r\n\t        }\r\n\t        //解析绑定 attribute，注册event\r\n\t        for (var n = 0; n < subElements.length; n++) {\r\n\t            var subElement = subElements[n];\r\n\t            var orderAttrs = this.sortAttributes(subElement);\r\n\t            for (var j = 0; j < orderAttrs.length; j++) {\r\n\t                var attribute = orderAttrs[j];\r\n\t                if (UkuleleUtil_1.UkuleleUtil.searchUkuAttrTag(attribute.nodeName) > -1) {\r\n\t                    var tempArr = attribute.nodeName.split('-');\r\n\t                    tempArr.shift();\r\n\t                    var attrName = tempArr.join('-');\r\n\t                    if (attrName !== \"application\") {\r\n\t                        if (attrName.search('on') === 0) {\r\n\t                            //is an event\r\n\t                            if (!UkuleleUtil_1.UkuleleUtil.isRepeat(subElement) && !UkuleleUtil_1.UkuleleUtil.isInRepeat(subElement)) {\r\n\t                                this.dealWithEvent(subElement, attrName);\r\n\t                            }\r\n\t                        }\r\n\t                        else if (attrName.search('repeat') !== -1) {\r\n\t                            //is an repeat\r\n\t                            this.dealWithRepeat(subElement);\r\n\t                        }\r\n\t                        else {\r\n\t                            //is an attribute\r\n\t                            if (!UkuleleUtil_1.UkuleleUtil.isRepeat(subElement) && !UkuleleUtil_1.UkuleleUtil.isInRepeat(subElement)) {\r\n\t                                if (attrName !== \"text\") {\r\n\t                                    this.dealWithAttribute(subElement, attrName);\r\n\t                                }\r\n\t                                else {\r\n\t                                    this.dealWithInnerText(subElement);\r\n\t                                }\r\n\t                            }\r\n\t                        }\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Analyzer.prototype.searchComponent = function (element) {\r\n\t        return __awaiter(this, void 0, void 0, function () {\r\n\t            var comp, attrs, compDef, attrs, compDef, i, child;\r\n\t            return __generator(this, function (_a) {\r\n\t                switch (_a.label) {\r\n\t                    case 0:\r\n\t                        comp = this.defMgr.getComponent(element.localName);\r\n\t                        if (!comp)\r\n\t                            return [3 /*break*/, 4];\r\n\t                        if (!!comp.lazy)\r\n\t                            return [3 /*break*/, 1];\r\n\t                        attrs = element.attributes;\r\n\t                        compDef = this.defMgr.getComponentsDefinition()[comp.tagName];\r\n\t                        if (!UkuleleUtil_1.UkuleleUtil.isRepeat(element) && !UkuleleUtil_1.UkuleleUtil.isInRepeat(element)) {\r\n\t                        }\r\n\t                        else {\r\n\t                            //callback && callback(element);\r\n\t                            return [2 /*return*/, element];\r\n\t                        }\r\n\t                        return [3 /*break*/, 3];\r\n\t                    case 1: \r\n\t                    /*this.defMgr.addLazyComponentDefinition(comp.tagName, comp.templateUrl, () => {\r\n\t                        let attrs = element.attributes;\r\n\t                        let compDef = this.defMgr.getComponentsDefinition()[comp.tagName];\r\n\t                        if (!UkuleleUtil.isRepeat(element) && !UkuleleUtil.isInRepeat(element)) {\r\n\t                            return this.dealWithComponent(element, compDef.template, compDef.controllerClazz, attrs);\r\n\t                        } else {\r\n\t                            //callback && callback(element);\r\n\t                            return element;\r\n\t                        }\r\n\t                    });*/\r\n\t                    return [4 /*yield*/, this.defMgr.addLazyComponentDefinition(comp.tagName, comp.templateUrl)];\r\n\t                    case 2:\r\n\t                        /*this.defMgr.addLazyComponentDefinition(comp.tagName, comp.templateUrl, () => {\r\n\t                            let attrs = element.attributes;\r\n\t                            let compDef = this.defMgr.getComponentsDefinition()[comp.tagName];\r\n\t                            if (!UkuleleUtil.isRepeat(element) && !UkuleleUtil.isInRepeat(element)) {\r\n\t                                return this.dealWithComponent(element, compDef.template, compDef.controllerClazz, attrs);\r\n\t                            } else {\r\n\t                                //callback && callback(element);\r\n\t                                return element;\r\n\t                            }\r\n\t                        });*/\r\n\t                        _a.sent();\r\n\t                        attrs = element.attributes;\r\n\t                        compDef = this.defMgr.getComponentsDefinition()[comp.tagName];\r\n\t                        if (!UkuleleUtil_1.UkuleleUtil.isRepeat(element) && !UkuleleUtil_1.UkuleleUtil.isInRepeat(element)) {\r\n\t                            return [2 /*return*/, this.dealWithComponent(element, compDef.template, compDef.controllerClazz, attrs)];\r\n\t                        }\r\n\t                        else {\r\n\t                            //callback && callback(element);\r\n\t                            return [2 /*return*/, element];\r\n\t                        }\r\n\t                        _a.label = 3;\r\n\t                    case 3: return [3 /*break*/, 10];\r\n\t                    case 4:\r\n\t                        if (!(element.children && element.children.length > 0))\r\n\t                            return [3 /*break*/, 9];\r\n\t                        i = 0;\r\n\t                        _a.label = 5;\r\n\t                    case 5:\r\n\t                        if (!(i < element.children.length))\r\n\t                            return [3 /*break*/, 8];\r\n\t                        child = element.children[i];\r\n\t                        return [4 /*yield*/, this.searchComponent(child)];\r\n\t                    case 6:\r\n\t                        _a.sent();\r\n\t                        _a.label = 7;\r\n\t                    case 7:\r\n\t                        i++;\r\n\t                        return [3 /*break*/, 5];\r\n\t                    case 8: return [2 /*return*/, element];\r\n\t                    case 9: \r\n\t                    //callback && callback(element);\r\n\t                    return [2 /*return*/, element];\r\n\t                    case 10: return [2 /*return*/];\r\n\t                }\r\n\t            });\r\n\t        });\r\n\t    };\r\n\t    Analyzer.prototype.dealWithComponent = function (tag, template, Clazz, attrs) {\r\n\t        return __awaiter(this, void 0, void 0, function () {\r\n\t            var randomAlias, tempFragment, htmlDom, cc, i, attr, tagName, controllerModel, boundItem, i, attr, j, child;\r\n\t            return __generator(this, function (_a) {\r\n\t                switch (_a.label) {\r\n\t                    case 0:\r\n\t                        randomAlias = 'cc_' + Math.floor(10000 * Math.random()).toString();\r\n\t                        template = template.replace(new RegExp(\"\\'cc\\\\.\", 'gm'), \"'\" + randomAlias + '.');\r\n\t                        template = template.replace(new RegExp('\"cc\\\\.', 'gm'), '\"' + randomAlias + '.');\r\n\t                        template = template.replace(new RegExp('\\{\\{cc\\\\.', 'gm'), \"{{\" + randomAlias + '.');\r\n\t                        template = template.replace(new RegExp(' cc\\\\.', 'gm'), ' ' + randomAlias + '.');\r\n\t                        template = template.replace(new RegExp('\\\\.cc\\\\.', 'gm'), '.' + randomAlias + '.');\r\n\t                        tempFragment = document.createElement('div');\r\n\t                        tempFragment.insertAdjacentHTML('afterBegin', template);\r\n\t                        if (tempFragment.children.length > 1) {\r\n\t                            template = tempFragment.outerHTML;\r\n\t                        }\r\n\t                        tag.insertAdjacentHTML('beforeBegin', template);\r\n\t                        htmlDom = tag.previousElementSibling;\r\n\t                        htmlDom.classList.add(tag.localName);\r\n\t                        if (Clazz) {\r\n\t                            cc = new Clazz(this.uku);\r\n\t                            cc._dom = htmlDom;\r\n\t                            cc.fire = function (eventType, data, bubbles, cancelable) {\r\n\t                                if (bubbles === void 0) { bubbles = false; }\r\n\t                                if (cancelable === void 0) { cancelable = true; }\r\n\t                                var event = new Event(eventType.toLowerCase(), { \"bubbles\": bubbles, \"cancelable\": cancelable });\r\n\t                                event['data'] = data;\r\n\t                                cc._dom.dispatchEvent(event);\r\n\t                            };\r\n\t                            this.uku.registerController(randomAlias, cc);\r\n\t                            for (i = 0; i < attrs.length; i++) {\r\n\t                                attr = attrs[i];\r\n\t                                //todo need Refactor\r\n\t                                if (UkuleleUtil_1.UkuleleUtil.searchUkuAttrTag(attr.nodeName) !== 0\r\n\t                                    || attr.nodeName.search(\"uku-on\") !== -1\r\n\t                                    || attr.nodeName === \"uku-render\"\r\n\t                                    || attr.nodeName === \"uku-visible\") {\r\n\t                                    htmlDom.setAttribute(attr.nodeName, attr.nodeValue);\r\n\t                                }\r\n\t                                else {\r\n\t                                    tagName = UkuleleUtil_1.UkuleleUtil.getAttrFromUkuTag(attr.nodeName, true);\r\n\t                                    controllerModel = this.defMgr.getControllerModelByName(attr.nodeValue);\r\n\t                                    if (controllerModel) {\r\n\t                                        boundItem = new BoundItemComponentAttribute_1.BoundItemComponentAttribute(attr.nodeValue, tagName, cc, this.uku);\r\n\t                                        controllerModel.addBoundItem(boundItem);\r\n\t                                        boundItem.render(controllerModel.controllerInstance);\r\n\t                                    }\r\n\t                                }\r\n\t                            }\r\n\t                        }\r\n\t                        else {\r\n\t                            for (i = 0; i < attrs.length; i++) {\r\n\t                                attr = attrs[i];\r\n\t                                //todo need Refactor\r\n\t                                if (UkuleleUtil_1.UkuleleUtil.searchUkuAttrTag(attr.nodeName) !== 0\r\n\t                                    || attr.nodeName.search(\"uku-on\") !== -1\r\n\t                                    || attr.nodeName === \"uku-render\"\r\n\t                                    || attr.nodeName === \"uku-visible\") {\r\n\t                                    htmlDom.setAttribute(attr.nodeName, attr.nodeValue);\r\n\t                                }\r\n\t                            }\r\n\t                        }\r\n\t                        tag.parentNode.removeChild(tag);\r\n\t                        if (!(htmlDom.children && htmlDom.children.length > 0))\r\n\t                            return [3 /*break*/, 5];\r\n\t                        j = 0;\r\n\t                        _a.label = 1;\r\n\t                    case 1:\r\n\t                        if (!(j < htmlDom.children.length))\r\n\t                            return [3 /*break*/, 4];\r\n\t                        child = htmlDom.children[j];\r\n\t                        /*ac.pushQueue(this.searchComponent.bind(this), [child, () => {\r\n\t                            this.searchComponent.resolve(ac);\r\n\t                        }]);*/\r\n\t                        return [4 /*yield*/, this.searchComponent(child)];\r\n\t                    case 2:\r\n\t                        /*ac.pushQueue(this.searchComponent.bind(this), [child, () => {\r\n\t                            this.searchComponent.resolve(ac);\r\n\t                        }]);*/\r\n\t                        _a.sent();\r\n\t                        _a.label = 3;\r\n\t                    case 3:\r\n\t                        j++;\r\n\t                        return [3 /*break*/, 1];\r\n\t                    case 4:\r\n\t                        if (cc && cc._initialized && typeof (cc._initialized) === 'function') {\r\n\t                            cc._initialized();\r\n\t                        }\r\n\t                        return [2 /*return*/, htmlDom];\r\n\t                    case 5:\r\n\t                        if (cc && cc._initialized && typeof (cc._initialized) === 'function') {\r\n\t                            cc._initialized();\r\n\t                        }\r\n\t                        return [2 /*return*/, htmlDom];\r\n\t                }\r\n\t            });\r\n\t        });\r\n\t    };\r\n\t    //todo: 处理 tag之间使用{{}}括起的表达式，用以显示文字\r\n\t    Analyzer.prototype.searchExpression = function (element) {\r\n\t        if (UkuleleUtil_1.UkuleleUtil.searchUkuExpTag(Selector_1.Selector.directText(element)) !== -1) {\r\n\t            if (!UkuleleUtil_1.UkuleleUtil.isRepeat(element) && !UkuleleUtil_1.UkuleleUtil.isInRepeat(element)) {\r\n\t                //normal expression\r\n\t                this.dealWithExpression(element);\r\n\t            }\r\n\t        }\r\n\t        for (var i = 0; i < element.children.length; i++) {\r\n\t            this.searchExpression(element.children[i]);\r\n\t        }\r\n\t    };\r\n\t    Analyzer.prototype.dealWithExpression = function (element) {\r\n\t        //通常的花括号声明方式\r\n\t        var expression = Selector_1.Selector.directText(element);\r\n\t        if (UkuleleUtil_1.UkuleleUtil.searchUkuExpTag(expression) !== -1) {\r\n\t            var attr = expression.slice(2, -2);\r\n\t            var controllerModel = this.defMgr.getControllerModelByName(attr);\r\n\t            if (controllerModel) {\r\n\t                var boundItem = new BoundItemExpression_1.BoundItemExpression(attr, expression, element, this.uku);\r\n\t                controllerModel.addBoundItem(boundItem);\r\n\t                boundItem.render(controllerModel.controllerInstance);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    //\r\n\t    Analyzer.prototype.dealWithInnerText = function (element) {\r\n\t        var attr = element.getAttribute(\"uku-text\");\r\n\t        if (attr) {\r\n\t            var controllerModel = this.defMgr.getControllerModelByName(attr);\r\n\t            if (controllerModel) {\r\n\t                var boundItem = new BoundItemInnerText_1.BoundItemInnerText(attr, element, this.uku);\r\n\t                controllerModel.addBoundItem(boundItem);\r\n\t                boundItem.render(controllerModel.controllerInstance);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    //处理 事件 event\r\n\t    Analyzer.prototype.dealWithEvent = function (element, eventName) {\r\n\t        var _this = this;\r\n\t        var expression = element.getAttribute(\"uku-\" + eventName);\r\n\t        var eventNameInListener = eventName.substring(2);\r\n\t        eventNameInListener = eventNameInListener.toLowerCase();\r\n\t        var controllerModel = this.defMgr.getControllerModelByName(expression);\r\n\t        if (controllerModel) {\r\n\t            var controller_1 = controllerModel.controllerInstance;\r\n\t            var temArr = expression.split(\".\");\r\n\t            var alias_1;\r\n\t            if (temArr[0] === \"parent\") {\r\n\t                alias_1 = temArr[1];\r\n\t            }\r\n\t            else {\r\n\t                alias_1 = temArr[0];\r\n\t            }\r\n\t            EventListener_1.EventListener.addEventListener(element, eventNameInListener, function (event) {\r\n\t                _this.defMgr.copyControllerInstance(controller_1, alias_1);\r\n\t                _this.defMgr.getBoundAttributeValue(expression, event);\r\n\t                _this.uku.refresh(alias_1, element);\r\n\t            });\r\n\t        }\r\n\t    };\r\n\t    //处理 repeat\r\n\t    Analyzer.prototype.dealWithRepeat = function (element) {\r\n\t        var repeatExpression = element.getAttribute(\"uku-repeat\");\r\n\t        var tempArr = repeatExpression.split(' in ');\r\n\t        var itemName = tempArr[0];\r\n\t        var attr = tempArr[1];\r\n\t        var controllerModel = this.defMgr.getControllerModelByName(attr);\r\n\t        if (controllerModel) {\r\n\t            var controllerInst = controllerModel.controllerInstance;\r\n\t            var boundItem = new BoundItemRepeat_1.BoundItemRepeat(attr, itemName, element, this.uku);\r\n\t            controllerModel.addBoundItem(boundItem);\r\n\t            boundItem.render(controllerInst);\r\n\t        }\r\n\t    };\r\n\t    return Analyzer;\r\n\t}(EventEmitter_1.EventEmitter));\r\n\tAnalyzer.ANALYIZE_COMPLETED = 'analyizeCompleted';\r\n\texports.Analyzer = Analyzer;\r\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar BoundItemAttrSelected_1 = __webpack_require__(18);\r\n\tvar BoundItemAttrDataItem_1 = __webpack_require__(21);\r\n\tvar BoundItemAttrSrc_1 = __webpack_require__(22);\r\n\tvar BoundItemAttrDisabled_1 = __webpack_require__(23);\r\n\tvar BoundItemAttrRender_1 = __webpack_require__(24);\r\n\tvar BoundItemAttrStyle_1 = __webpack_require__(25);\r\n\tvar BoundItemAttrValue_1 = __webpack_require__(26);\r\n\tvar BoundItemAttrVisible_1 = __webpack_require__(27);\r\n\tvar BoundItemAttribute_1 = __webpack_require__(19);\r\n\tvar BoundItemAttributeFactory = (function () {\r\n\t    function BoundItemAttributeFactory() {\r\n\t        if (BoundItemAttributeFactory._instance) {\r\n\t            throw new Error(\"Error: Instantiation failed: Use BoundItemAttributeFactory.getInstance() instead of new.\");\r\n\t        }\r\n\t        BoundItemAttributeFactory._instance = this;\r\n\t    }\r\n\t    BoundItemAttributeFactory.getInstance = function () {\r\n\t        return BoundItemAttributeFactory._instance;\r\n\t    };\r\n\t    BoundItemAttributeFactory.prototype.generateInstance = function (attr, tagName, element, uku) {\r\n\t        var instance;\r\n\t        switch (tagName) {\r\n\t            case \"selected\":\r\n\t                instance = new BoundItemAttrSelected_1.BountItemAttrSelected(attr, tagName, element, uku);\r\n\t                break;\r\n\t            case \"data-item\":\r\n\t                instance = new BoundItemAttrDataItem_1.BoundItemAttrDataItem(attr, tagName, element, uku);\r\n\t                break;\r\n\t            case \"src\":\r\n\t                instance = new BoundItemAttrSrc_1.BoundItemAttrSrc(attr, tagName, element, uku);\r\n\t                break;\r\n\t            case \"disabled\":\r\n\t                instance = new BoundItemAttrDisabled_1.BoundItemAttrDisabled(attr, tagName, element, uku);\r\n\t                break;\r\n\t            case \"render\":\r\n\t                instance = new BoundItemAttrRender_1.BoundItemAttrRender(attr, tagName, element, uku);\r\n\t                break;\r\n\t            case \"style\":\r\n\t                instance = new BoundItemAttrStyle_1.BoundItemAttrStyle(attr, tagName, element, uku);\r\n\t                break;\r\n\t            case \"value\":\r\n\t                instance = new BoundItemAttrValue_1.BoundItemAttrValue(attr, tagName, element, uku);\r\n\t                break;\r\n\t            case \"visible\":\r\n\t                instance = new BoundItemAttrVisible_1.BoundItemAttrVisible(attr, tagName, element, uku);\r\n\t                break;\r\n\t            default:\r\n\t                instance = new BoundItemAttribute_1.BoundItemAttribute(attr, tagName, element, uku);\r\n\t        }\r\n\t        return instance;\r\n\t    };\r\n\t    return BoundItemAttributeFactory;\r\n\t}());\r\n\tBoundItemAttributeFactory._instance = new BoundItemAttributeFactory();\r\n\texports.BoundItemAttributeFactory = BoundItemAttributeFactory;\r\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar BoundItemAttribute_1 = __webpack_require__(19);\r\n\tvar UkuleleUtil_1 = __webpack_require__(9);\r\n\tvar BountItemAttrSelected = (function (_super) {\r\n\t    __extends(BountItemAttrSelected, _super);\r\n\t    function BountItemAttrSelected(attrName, ukuTag, element, uku) {\r\n\t        var _this;\r\n\t        if (ukuTag !== \"selected\") {\r\n\t            throw new TypeError(\"it doesn't use uku-selected\");\r\n\t        }\r\n\t        _this = _super.call(this, attrName, ukuTag, element, uku) || this;\r\n\t        return _this;\r\n\t    }\r\n\t    BountItemAttrSelected.prototype.render = function (controller) {\r\n\t        var attr = this.attributeName;\r\n\t        var key;\r\n\t        var elementName = this.element.tagName;\r\n\t        if (elementName === \"SELECT\") {\r\n\t            var tempArr = this.attributeName.split(\"|\");\r\n\t            attr = tempArr[0];\r\n\t            key = tempArr[1];\r\n\t            var finalValue = UkuleleUtil_1.UkuleleUtil.getFinalValue(this.uku, controller, attr);\r\n\t            var value = void 0;\r\n\t            if (key) {\r\n\t                value = finalValue[key];\r\n\t            }\r\n\t            else {\r\n\t                value = finalValue;\r\n\t            }\r\n\t            this.element.value = value;\r\n\t        }\r\n\t        if (elementName === \"INPUT\" && this.element.getAttribute(\"type\") === \"radio\") {\r\n\t            var finalValue = UkuleleUtil_1.UkuleleUtil.getFinalValue(this.uku, controller, attr);\r\n\t            if (this.element.value === finalValue) {\r\n\t                this.element.setAttribute(\"checked\", \"true\");\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    return BountItemAttrSelected;\r\n\t}(BoundItemAttribute_1.BoundItemAttribute));\r\n\texports.BountItemAttrSelected = BountItemAttrSelected;\r\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar BoundItemBase_1 = __webpack_require__(20);\r\n\tvar UkuleleUtil_1 = __webpack_require__(9);\r\n\t//import {SelectedDecorator} from \"./decorator/SelectedDecorator\";\r\n\tvar BoundItemAttribute = (function (_super) {\r\n\t    __extends(BoundItemAttribute, _super);\r\n\t    function BoundItemAttribute(attrName, ukuTag, element, uku) {\r\n\t        var _this = _super.call(this, attrName, element, uku) || this;\r\n\t        _this.ukuTag = ukuTag;\r\n\t        return _this;\r\n\t    }\r\n\t    BoundItemAttribute.prototype.render = function (controller) {\r\n\t        var attr = this.attributeName;\r\n\t        var finalValue = UkuleleUtil_1.UkuleleUtil.getFinalValue(this.uku, controller, attr);\r\n\t        this.element.setAttribute(this.ukuTag, finalValue);\r\n\t    };\r\n\t    return BoundItemAttribute;\r\n\t}(BoundItemBase_1.BoundItemBase));\r\n\texports.BoundItemAttribute = BoundItemAttribute;\r\n\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar BoundItemBase = (function () {\r\n\t    function BoundItemBase(_attrName, _element, _uku) {\r\n\t        this.attributeName = _attrName;\r\n\t        this.element = _element;\r\n\t        this.uku = _uku;\r\n\t    }\r\n\t    BoundItemBase.prototype.render = function (controller) {\r\n\t    };\r\n\t    return BoundItemBase;\r\n\t}());\r\n\texports.BoundItemBase = BoundItemBase;\r\n\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar BoundItemAttribute_1 = __webpack_require__(19);\r\n\tvar UkuleleUtil_1 = __webpack_require__(9);\r\n\tvar BoundItemAttrDataItem = (function (_super) {\r\n\t    __extends(BoundItemAttrDataItem, _super);\r\n\t    function BoundItemAttrDataItem(attrName, ukuTag, element, uku) {\r\n\t        var _this;\r\n\t        if (ukuTag !== \"data-item\") {\r\n\t            throw new TypeError(\"it doesn't use uku-item\");\r\n\t        }\r\n\t        _this = _super.call(this, attrName, ukuTag, element, uku) || this;\r\n\t        return _this;\r\n\t    }\r\n\t    BoundItemAttrDataItem.prototype.render = function (controller) {\r\n\t        var attr = this.attributeName;\r\n\t        var elementName = this.element.tagName;\r\n\t        var finalValue = UkuleleUtil_1.UkuleleUtil.getFinalValue(this.uku, controller, attr);\r\n\t        if (elementName === \"OPTION\") {\r\n\t            finalValue = JSON.stringify(finalValue);\r\n\t            this.element.setAttribute('data-item', finalValue);\r\n\t        }\r\n\t    };\r\n\t    return BoundItemAttrDataItem;\r\n\t}(BoundItemAttribute_1.BoundItemAttribute));\r\n\texports.BoundItemAttrDataItem = BoundItemAttrDataItem;\r\n\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar BoundItemAttribute_1 = __webpack_require__(19);\r\n\tvar UkuleleUtil_1 = __webpack_require__(9);\r\n\tvar BoundItemAttrSrc = (function (_super) {\r\n\t    __extends(BoundItemAttrSrc, _super);\r\n\t    function BoundItemAttrSrc(attrName, ukuTag, element, uku) {\r\n\t        var _this;\r\n\t        if (ukuTag !== \"src\") {\r\n\t            throw new TypeError(\"it doesn't use uku-src\");\r\n\t        }\r\n\t        _this = _super.call(this, attrName, ukuTag, element, uku) || this;\r\n\t        return _this;\r\n\t    }\r\n\t    BoundItemAttrSrc.prototype.render = function (controller) {\r\n\t        var attr = this.attributeName;\r\n\t        var elementName = this.element.tagName;\r\n\t        var finalValue = UkuleleUtil_1.UkuleleUtil.getFinalValue(this.uku, controller, attr);\r\n\t        if (elementName === \"IMG\") {\r\n\t            if (finalValue) {\r\n\t                this.element.setAttribute(this.ukuTag, finalValue);\r\n\t            }\r\n\t        }\r\n\t        else {\r\n\t            throw new Error(\"uku-src doesn't work with current dom\");\r\n\t        }\r\n\t    };\r\n\t    return BoundItemAttrSrc;\r\n\t}(BoundItemAttribute_1.BoundItemAttribute));\r\n\texports.BoundItemAttrSrc = BoundItemAttrSrc;\r\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar BoundItemAttribute_1 = __webpack_require__(19);\r\n\tvar UkuleleUtil_1 = __webpack_require__(9);\r\n\tvar BoundItemAttrDisabled = (function (_super) {\r\n\t    __extends(BoundItemAttrDisabled, _super);\r\n\t    function BoundItemAttrDisabled(attrName, ukuTag, element, uku) {\r\n\t        var _this;\r\n\t        if (ukuTag !== \"disabled\") {\r\n\t            throw new TypeError(\"it doesn't use uku-disabled\");\r\n\t        }\r\n\t        _this = _super.call(this, attrName, ukuTag, element, uku) || this;\r\n\t        return _this;\r\n\t    }\r\n\t    BoundItemAttrDisabled.prototype.render = function (controller) {\r\n\t        var attr = this.attributeName;\r\n\t        var elementName = this.element.tagName;\r\n\t        var finalValue = UkuleleUtil_1.UkuleleUtil.getFinalValue(this.uku, controller, attr);\r\n\t        this.element.disabled = finalValue;\r\n\t    };\r\n\t    return BoundItemAttrDisabled;\r\n\t}(BoundItemAttribute_1.BoundItemAttribute));\r\n\texports.BoundItemAttrDisabled = BoundItemAttrDisabled;\r\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar BoundItemAttribute_1 = __webpack_require__(19);\r\n\tvar UkuleleUtil_1 = __webpack_require__(9);\r\n\tvar BoundItemAttrRender = (function (_super) {\r\n\t    __extends(BoundItemAttrRender, _super);\r\n\t    function BoundItemAttrRender(attrName, ukuTag, element, uku) {\r\n\t        var _this;\r\n\t        if (ukuTag !== \"render\") {\r\n\t            throw new TypeError(\"it doesn't use uku-render\");\r\n\t        }\r\n\t        _this = _super.call(this, attrName, ukuTag, element, uku) || this;\r\n\t        return _this;\r\n\t    }\r\n\t    BoundItemAttrRender.prototype.render = function (controller) {\r\n\t        var attr = this.attributeName;\r\n\t        var elementName = this.element.tagName;\r\n\t        var finalValue = UkuleleUtil_1.UkuleleUtil.getFinalValue(this.uku, controller, attr);\r\n\t        if (finalValue) {\r\n\t            var oldDisplaySetting = this.element.getAttribute(\"data-old-display\");\r\n\t            if (oldDisplaySetting !== null) {\r\n\t                this.element.style.display = oldDisplaySetting;\r\n\t            }\r\n\t        }\r\n\t        else {\r\n\t            var oldDisplaySetting = this.element.getAttribute(\"data-old-display\");\r\n\t            if (oldDisplaySetting === null) {\r\n\t                oldDisplaySetting = this.element.style.display;\r\n\t                this.element.setAttribute(\"data-old-display\", oldDisplaySetting);\r\n\t            }\r\n\t            this.element.style.display = \"none\";\r\n\t        }\r\n\t    };\r\n\t    return BoundItemAttrRender;\r\n\t}(BoundItemAttribute_1.BoundItemAttribute));\r\n\texports.BoundItemAttrRender = BoundItemAttrRender;\r\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar BoundItemAttribute_1 = __webpack_require__(19);\r\n\tvar UkuleleUtil_1 = __webpack_require__(9);\r\n\tvar BoundItemAttrStyle = (function (_super) {\r\n\t    __extends(BoundItemAttrStyle, _super);\r\n\t    function BoundItemAttrStyle(attrName, ukuTag, element, uku) {\r\n\t        var _this;\r\n\t        if (ukuTag !== \"style\") {\r\n\t            throw new TypeError(\"it doesn't use uku-style\");\r\n\t        }\r\n\t        _this = _super.call(this, attrName, ukuTag, element, uku) || this;\r\n\t        return _this;\r\n\t    }\r\n\t    BoundItemAttrStyle.prototype.render = function (controller) {\r\n\t        var attr = this.attributeName;\r\n\t        var elementName = this.element.tagName;\r\n\t        var finalValue = UkuleleUtil_1.UkuleleUtil.getFinalValue(this.uku, controller, attr);\r\n\t        for (var cssName in finalValue) {\r\n\t            this.element.style[cssName] = finalValue[cssName];\r\n\t        }\r\n\t    };\r\n\t    return BoundItemAttrStyle;\r\n\t}(BoundItemAttribute_1.BoundItemAttribute));\r\n\texports.BoundItemAttrStyle = BoundItemAttrStyle;\r\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar BoundItemAttribute_1 = __webpack_require__(19);\r\n\tvar UkuleleUtil_1 = __webpack_require__(9);\r\n\tvar BoundItemAttrValue = (function (_super) {\r\n\t    __extends(BoundItemAttrValue, _super);\r\n\t    function BoundItemAttrValue(attrName, ukuTag, element, uku) {\r\n\t        var _this;\r\n\t        if (ukuTag !== \"value\") {\r\n\t            throw new TypeError(\"it doesn't use uku-value\");\r\n\t        }\r\n\t        _this = _super.call(this, attrName, ukuTag, element, uku) || this;\r\n\t        return _this;\r\n\t    }\r\n\t    BoundItemAttrValue.prototype.render = function (controller) {\r\n\t        var attr = this.attributeName;\r\n\t        var elementName = this.element.tagName;\r\n\t        var finalValue = UkuleleUtil_1.UkuleleUtil.getFinalValue(this.uku, controller, attr);\r\n\t        if (elementName === \"INPUT\" && this.element.getAttribute(\"type\") === \"checkbox\") {\r\n\t            this.element.checked = finalValue;\r\n\t        }\r\n\t        else {\r\n\t            this.element.value = finalValue;\r\n\t        }\r\n\t    };\r\n\t    return BoundItemAttrValue;\r\n\t}(BoundItemAttribute_1.BoundItemAttribute));\r\n\texports.BoundItemAttrValue = BoundItemAttrValue;\r\n\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar BoundItemAttribute_1 = __webpack_require__(19);\r\n\tvar UkuleleUtil_1 = __webpack_require__(9);\r\n\tvar BoundItemAttrVisible = (function (_super) {\r\n\t    __extends(BoundItemAttrVisible, _super);\r\n\t    function BoundItemAttrVisible(attrName, ukuTag, element, uku) {\r\n\t        var _this;\r\n\t        if (ukuTag !== \"visible\") {\r\n\t            throw new TypeError(\"it doesn't use uku-visible\");\r\n\t        }\r\n\t        _this = _super.call(this, attrName, ukuTag, element, uku) || this;\r\n\t        return _this;\r\n\t    }\r\n\t    BoundItemAttrVisible.prototype.render = function (controller) {\r\n\t        var attr = this.attributeName;\r\n\t        var elementName = this.element.tagName;\r\n\t        var finalValue = UkuleleUtil_1.UkuleleUtil.getFinalValue(this.uku, controller, attr);\r\n\t        if (finalValue) {\r\n\t            this.element.style.visibility = \"visible\";\r\n\t        }\r\n\t        else {\r\n\t            this.element.style.visibility = \"hidden\";\r\n\t        }\r\n\t    };\r\n\t    return BoundItemAttrVisible;\r\n\t}(BoundItemAttribute_1.BoundItemAttribute));\r\n\texports.BoundItemAttrVisible = BoundItemAttrVisible;\r\n\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar BoundItemBase_1 = __webpack_require__(20);\r\n\tvar UkuleleUtil_1 = __webpack_require__(9);\r\n\tvar Selector_1 = __webpack_require__(10);\r\n\tvar BoundItemExpression = (function (_super) {\r\n\t    __extends(BoundItemExpression, _super);\r\n\t    function BoundItemExpression(attrName, expression, element, uku) {\r\n\t        var _this = _super.call(this, attrName, element, uku) || this;\r\n\t        _this.expression = expression;\r\n\t        return _this;\r\n\t    }\r\n\t    BoundItemExpression.prototype.render = function (controller) {\r\n\t        var finalValue = UkuleleUtil_1.UkuleleUtil.getFinalValue(this.uku, controller, this.attributeName);\r\n\t        Selector_1.Selector.directText(this.element, finalValue);\r\n\t    };\r\n\t    return BoundItemExpression;\r\n\t}(BoundItemBase_1.BoundItemBase));\r\n\texports.BoundItemExpression = BoundItemExpression;\r\n\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar BoundItemBase_1 = __webpack_require__(20);\r\n\tvar UkuleleUtil_1 = __webpack_require__(9);\r\n\tvar BoundItemInnerText = (function (_super) {\r\n\t    __extends(BoundItemInnerText, _super);\r\n\t    function BoundItemInnerText(attrName, element, uku) {\r\n\t        var _this = _super.call(this, attrName, element, uku) || this;\r\n\t        _this.tagName = 'text';\r\n\t        return _this;\r\n\t    }\r\n\t    BoundItemInnerText.prototype.render = function (controller) {\r\n\t        var finalValue = UkuleleUtil_1.UkuleleUtil.getFinalValue(this.uku, controller, this.attributeName);\r\n\t        this.element.innerHTML = finalValue;\r\n\t    };\r\n\t    return BoundItemInnerText;\r\n\t}(BoundItemBase_1.BoundItemBase));\r\n\texports.BoundItemInnerText = BoundItemInnerText;\r\n\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar BoundItemBase_1 = __webpack_require__(20);\r\n\tvar UkuleleUtil_1 = __webpack_require__(9);\r\n\tvar BoundItemRepeat = (function (_super) {\r\n\t    __extends(BoundItemRepeat, _super);\r\n\t    function BoundItemRepeat(attrName, itemName, element, uku) {\r\n\t        var _this = _super.call(this, attrName, element, uku) || this;\r\n\t        _this.expression = itemName;\r\n\t        _this.renderTemplate = element.outerHTML;\r\n\t        _this.parentElement = element.parentNode;\r\n\t        _this.beginCommentString = undefined;\r\n\t        _this.endCommentString = undefined;\r\n\t        return _this;\r\n\t    }\r\n\t    BoundItemRepeat.prototype.render = function (controller) {\r\n\t        var finalValue = UkuleleUtil_1.UkuleleUtil.getFinalValue(this.uku, controller, this.attributeName);\r\n\t        if (!finalValue) {\r\n\t            return;\r\n\t        }\r\n\t        var self = this;\r\n\t        if (this.element && this.element.parentNode) {\r\n\t            //create repeate begin comment\r\n\t            this.beginCommentString = \"begin uku-repeat: \" + this.expression + \" in \" + this.attributeName;\r\n\t            var beginComment = document.createComment(this.beginCommentString);\r\n\t            this.element.parentNode.insertBefore(beginComment, this.element);\r\n\t            //create repeate end comment\r\n\t            this.endCommentString = \"end uku-repeat: \" + this.expression + \" in \" + this.attributeName;\r\n\t            var endComment = document.createComment(this.endCommentString);\r\n\t            this.element.parentNode.insertBefore(endComment, this.element.nextSibling);\r\n\t            //remove definition dom\r\n\t            this.element.parentNode.removeChild(this.element);\r\n\t        }\r\n\t        var treeWalker = document.createTreeWalker(this.parentElement, NodeFilter.SHOW_COMMENT, { acceptNode: function (node) {\r\n\t                if (node.nodeValue === self.beginCommentString) {\r\n\t                    return NodeFilter.FILTER_ACCEPT;\r\n\t                }\r\n\t                return NodeFilter.FILTER_SKIP;\r\n\t            } }, false);\r\n\t        /*function filter(node:Node) :any{\r\n\t            if (node.nodeValue === self.beginCommentString) {\r\n\t                return (NodeFilter.FILTER_ACCEPT);\r\n\t            }\r\n\t            return (NodeFilter.FILTER_SKIP);\r\n\t        }*/\r\n\t        function generateTempContainer() {\r\n\t            var index = UkuleleUtil_1.UkuleleUtil.searchHtmlTag(self.renderTemplate, \"tr\");\r\n\t            if (index === -1) {\r\n\t                return document.createElement(\"div\");\r\n\t            }\r\n\t            else {\r\n\t                return document.createElement(\"tbody\");\r\n\t            }\r\n\t        }\r\n\t        while (treeWalker.nextNode()) {\r\n\t            var commentNode = treeWalker.currentNode;\r\n\t            if (commentNode && commentNode.nodeValue === this.beginCommentString) {\r\n\t                //remove overtime dom.\r\n\t                while (commentNode.nextSibling && commentNode.nextSibling.nodeValue !== this.endCommentString) {\r\n\t                    commentNode.parentNode.removeChild(commentNode.nextSibling);\r\n\t                }\r\n\t                //create new dom\r\n\t                var tempDiv = generateTempContainer();\r\n\t                var blankDiv = generateTempContainer();\r\n\t                commentNode.parentNode.insertBefore(blankDiv, commentNode.nextSibling);\r\n\t                for (var i = 0; i < finalValue.length; i++) {\r\n\t                    tempDiv.insertAdjacentHTML('beforeEnd', this.renderTemplate);\r\n\t                    if (i === finalValue.length - 1) {\r\n\t                        var childrenHTML = tempDiv.innerHTML;\r\n\t                        blankDiv.insertAdjacentHTML('beforeBegin', childrenHTML);\r\n\t                        commentNode.parentNode.removeChild(blankDiv);\r\n\t                        tempDiv = null;\r\n\t                        blankDiv = null;\r\n\t                    }\r\n\t                }\r\n\t                var child = commentNode.nextSibling;\r\n\t                for (var j = 0; j < finalValue.length; j++) {\r\n\t                    child.removeAttribute(\"uku-repeat\");\r\n\t                    var Uku_Clazz = this.uku.constructor;\r\n\t                    var ukulele = new Uku_Clazz(); //new Ukulele();\r\n\t                    ukulele.parentUku = this.uku;\r\n\t                    var compDef = ukulele.parentUku._internal_getDefinitionManager().getComponentsDefinition();\r\n\t                    var compPool = ukulele.parentUku._internal_getDefinitionManager().getComponentsPool();\r\n\t                    ukulele._internal_getDefinitionManager().setComponentsDefinition(compDef);\r\n\t                    ukulele._internal_getDefinitionManager().setComponentsPool(compPool);\r\n\t                    var sibling = child.nextSibling;\r\n\t                    var itemType = typeof finalValue[j];\r\n\t                    if (itemType === \"object\") {\r\n\t                        ukulele.registerController(this.expression, finalValue[j]);\r\n\t                    }\r\n\t                    else {\r\n\t                        ukulele.registerController(this.expression, { 'value': finalValue[j] });\r\n\t                        var newOuterHtml = child.outerHTML.replace(new RegExp(this.expression, \"gm\"), this.expression + '.value');\r\n\t                        child.insertAdjacentHTML('afterend', newOuterHtml);\r\n\t                        var newItemDom = child.nextSibling;\r\n\t                        child.parentNode.removeChild(child);\r\n\t                        child = newItemDom;\r\n\t                    }\r\n\t                    ukulele._internal_dealWithElement(child);\r\n\t                    child = sibling;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        if (this.element.tagName === \"OPTION\") {\r\n\t            var expression = this.parentElement.getAttribute(\"uku-selected\");\r\n\t            var tempArr = expression.split(\"|\");\r\n\t            expression = tempArr[0];\r\n\t            var key = tempArr[1];\r\n\t            var value = this.uku._internal_getDefinitionManager().getFinalValueByExpression(expression);\r\n\t            if (key) {\r\n\t                this.parentElement.value = value[key];\r\n\t            }\r\n\t            else {\r\n\t                this.parentElement.value = value;\r\n\t            }\r\n\t            this.element.setAttribute(\"selected\", \"selected\");\r\n\t        }\r\n\t    };\r\n\t    return BoundItemRepeat;\r\n\t}(BoundItemBase_1.BoundItemBase));\r\n\texports.BoundItemRepeat = BoundItemRepeat;\r\n\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar BoundItemBase_1 = __webpack_require__(20);\r\n\tvar UkuleleUtil_1 = __webpack_require__(9);\r\n\tvar BoundItemComponentAttribute = (function (_super) {\r\n\t    __extends(BoundItemComponentAttribute, _super);\r\n\t    function BoundItemComponentAttribute(attrName, ukuTag, cc, uku) {\r\n\t        var _this = _super.call(this, attrName, null, uku) || this;\r\n\t        _this.ukuTag = ukuTag;\r\n\t        _this.componentController = cc;\r\n\t        return _this;\r\n\t    }\r\n\t    BoundItemComponentAttribute.prototype.render = function (controller) {\r\n\t        var finalValue = UkuleleUtil_1.UkuleleUtil.getFinalValue(this.uku, controller, this.attributeName);\r\n\t        this.componentController[this.ukuTag] = finalValue;\r\n\t        this.uku.refresh(this.componentController._alias);\r\n\t    };\r\n\t    return BoundItemComponentAttribute;\r\n\t}(BoundItemBase_1.BoundItemBase));\r\n\texports.BoundItemComponentAttribute = BoundItemComponentAttribute;\r\n\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar UkuleleUtil_1 = __webpack_require__(9);\r\n\tvar EventListener_1 = __webpack_require__(33);\r\n\tvar Selector_1 = __webpack_require__(10);\r\n\tfunction elementChangedBinder(element, tagName, controllerModel, handler, host) {\r\n\t    var elementStrategies = [inputTextCase, textareaCase, selectCase, checkboxCase, radioCase];\r\n\t    for (var i = 0; i < elementStrategies.length; i++) {\r\n\t        var func = elementStrategies[i];\r\n\t        var goon = func.apply(this, arguments);\r\n\t        if (goon) {\r\n\t            break;\r\n\t        }\r\n\t    }\r\n\t}\r\n\texports.elementChangedBinder = elementChangedBinder;\r\n\tfunction inputTextCase(element, tagName, controllerModel, handler, host) {\r\n\t    var elementName = element.tagName;\r\n\t    if (elementName === \"INPUT\" && isSupportInputType(element) && tagName === \"value\") {\r\n\t        var eventType = 'change';\r\n\t        var inputType = element.getAttribute('type');\r\n\t        if (inputType === \"text\") {\r\n\t            eventType = 'input';\r\n\t        }\r\n\t        EventListener_1.EventListener.addEventListener(element, eventType, function (e) {\r\n\t            var attr = element.getAttribute(\"uku-\" + tagName);\r\n\t            attr = UkuleleUtil_1.UkuleleUtil.getFinalAttribute(attr);\r\n\t            var temp = attr.split(\".\");\r\n\t            var finalInstance = controllerModel.controllerInstance;\r\n\t            for (var i = 0; i < temp.length - 1; i++) {\r\n\t                finalInstance = finalInstance[temp[i]];\r\n\t            }\r\n\t            finalInstance[temp[temp.length - 1]] = element.value;\r\n\t            if (handler) {\r\n\t                handler.call(host, controllerModel.alias, element);\r\n\t            }\r\n\t        });\r\n\t        return true;\r\n\t    }\r\n\t    return false;\r\n\t}\r\n\tfunction isSupportInputType(element) {\r\n\t    var type = element.getAttribute(\"type\");\r\n\t    if (type !== \"checkbox\" && type !== \"radio\") {\r\n\t        return true;\r\n\t    }\r\n\t    return false;\r\n\t}\r\n\tfunction textareaCase(element, tagName, controllerModel, handler, host) {\r\n\t    var elementName = element.tagName;\r\n\t    if (elementName === \"TEXTAREA\" && tagName === \"value\") {\r\n\t        EventListener_1.EventListener.addEventListener(element, 'input', function (e) {\r\n\t            var attr = element.getAttribute(\"uku-\" + tagName);\r\n\t            attr = UkuleleUtil_1.UkuleleUtil.getFinalAttribute(attr);\r\n\t            var temp = attr.split(\".\");\r\n\t            var finalInstance = controllerModel.controllerInstance;\r\n\t            for (var i = 0; i < temp.length - 1; i++) {\r\n\t                finalInstance = finalInstance[temp[i]];\r\n\t            }\r\n\t            finalInstance[temp[temp.length - 1]] = element.value;\r\n\t            if (handler) {\r\n\t                handler.call(host, controllerModel.alias, element);\r\n\t            }\r\n\t        });\r\n\t        return true;\r\n\t    }\r\n\t    return false;\r\n\t}\r\n\tfunction selectCase(element, tagName, controllerModel, handler, host) {\r\n\t    var elementName = element.tagName;\r\n\t    if ((elementName === \"SELECT\" && tagName === \"selected\")) {\r\n\t        EventListener_1.EventListener.addEventListener(element, 'change', function (e) {\r\n\t            var attr = element.getAttribute(\"uku-\" + tagName);\r\n\t            var key;\r\n\t            var tmpArr = attr.split(\"|\");\r\n\t            attr = tmpArr[0];\r\n\t            key = tmpArr[1];\r\n\t            attr = UkuleleUtil_1.UkuleleUtil.getFinalAttribute(attr);\r\n\t            var temp = attr.split(\".\");\r\n\t            var finalInstance = controllerModel.controllerInstance;\r\n\t            for (var i = 0; i < temp.length - 1; i++) {\r\n\t                finalInstance = finalInstance[temp[i]];\r\n\t            }\r\n\t            var options = Selector_1.Selector.querySelectorAll(element, \"option\");\r\n\t            for (var j = 0; j < options.length; j++) {\r\n\t                var option = options[j];\r\n\t                if (option.selected) {\r\n\t                    var selectedItem = JSON.parse(option.getAttribute(\"data-item\"));\r\n\t                    finalInstance[temp[temp.length - 1]] = selectedItem;\r\n\t                }\r\n\t            }\r\n\t            if (handler) {\r\n\t                handler.call(host, controllerModel.alias, element);\r\n\t            }\r\n\t        });\r\n\t        return true;\r\n\t    }\r\n\t    return false;\r\n\t}\r\n\tfunction checkboxCase(element, tagName, controllerModel, handler, host) {\r\n\t    var elementName = element.tagName;\r\n\t    if (elementName === \"INPUT\" && tagName === \"value\" && element.getAttribute(\"type\") === \"checkbox\") {\r\n\t        EventListener_1.EventListener.addEventListener(element, 'change', function (e) {\r\n\t            var attr = element.getAttribute(\"uku-\" + tagName);\r\n\t            attr = UkuleleUtil_1.UkuleleUtil.getFinalAttribute(attr);\r\n\t            var temp = attr.split(\".\");\r\n\t            var finalInstance = controllerModel.controllerInstance;\r\n\t            for (var i = 0; i < temp.length - 1; i++) {\r\n\t                finalInstance = finalInstance[temp[i]];\r\n\t            }\r\n\t            finalInstance[temp[temp.length - 1]] = element.checked;\r\n\t            if (handler) {\r\n\t                handler.call(host, controllerModel.alias, element);\r\n\t            }\r\n\t        });\r\n\t        return true;\r\n\t    }\r\n\t    return false;\r\n\t}\r\n\tfunction radioCase(element, tagName, controllerModel, handler, host) {\r\n\t    var elementName = element.tagName;\r\n\t    if (elementName === \"INPUT\" && tagName === \"selected\" && element.getAttribute(\"type\") === \"radio\") {\r\n\t        EventListener_1.EventListener.addEventListener(element, 'change', function (e) {\r\n\t            var attr = element.getAttribute(\"uku-\" + tagName);\r\n\t            attr = UkuleleUtil_1.UkuleleUtil.getFinalAttribute(attr);\r\n\t            var temp = attr.split(\".\");\r\n\t            var finalInstance = controllerModel.controllerInstance;\r\n\t            for (var i = 0; i < temp.length - 1; i++) {\r\n\t                finalInstance = finalInstance[temp[i]];\r\n\t            }\r\n\t            if (element.checked) {\r\n\t                finalInstance[temp[temp.length - 1]] = element.value;\r\n\t                if (handler) {\r\n\t                    handler.call(host, controllerModel.alias, element);\r\n\t                }\r\n\t            }\r\n\t        });\r\n\t        return true;\r\n\t    }\r\n\t    return false;\r\n\t}\r\n\n\n/***/ },\n/* 33 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar EventListener = (function () {\r\n\t    function EventListener() {\r\n\t    }\r\n\t    EventListener.addEventListener = function (element, eventType, handler) {\r\n\t        if (window.hasOwnProperty('jQuery') && typeof window['jQuery'] !== undefined) {\r\n\t            return window['jQuery'](element).on(eventType, function (e) {\r\n\t                handler && handler(e);\r\n\t            });\r\n\t        }\r\n\t        else {\r\n\t            return element.addEventListener(eventType, handler);\r\n\t        }\r\n\t    };\r\n\t    return EventListener;\r\n\t}());\r\n\texports.EventListener = EventListener;\r\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** uku.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap be6bb542b05d8423fde8\n **/","import {EventEmitter} from \"./EventEmitter\";\r\nimport {AsyncCaller} from \"../util/AsyncCaller\"\r\nimport {DefinitionManager} from \"./DefinitionManager\";\r\nimport {DirtyChecker} from \"./DirtyChecker\";\r\nimport {Analyzer} from \"./Analyzer\";\r\nimport {Selector} from \"../extend/Selector\";\r\nimport {UkuEventType} from \"./UkuEventType\";\r\nimport {IUkulele} from \"./IUkulele\";\r\nimport {Event} from \"./Event\";\r\nexport class Ukulele extends EventEmitter implements IUkulele{\r\n\tprivate defMgr:DefinitionManager;\r\n\tprivate dirtyChecker:DirtyChecker;\r\n\tprivate asyncCaller = new AsyncCaller();\r\n\r\n\tpublic parentUku:IUkulele;\r\n\tstatic INITIALIZED:string = 'initialized';\r\n\tstatic REFRESH:string = 'refresh';\r\n\tstatic HANDLE_ELEMENT_COMPLETED:string = \"handle_element_completed\";\r\n\r\n\tpublic init():void{\r\n\t\tthis.asyncCaller.exec(()=>{\r\n\t\t\tthis.manageApplication();\r\n\t\t});\r\n\t}\r\n\r\n\tpublic handleElement(element:HTMLElement):void {\r\n\t\tthis.analyizeElement(element,(e)=>{\r\n\t\t\tthis.dispatchEvent(new Event(UkuEventType.HANDLE_ELEMENT_COMPLETED,e));\r\n\t\t});\r\n\t}\r\n\r\n\tpublic registerController(instanceName:string, controllerInst:Object):void{\r\n\t\tthis._internal_getDefinitionManager().addControllerDefinition(instanceName,controllerInst);\r\n\t}\r\n\r\n\tpublic getController(instanceName:string){\r\n\t\treturn this._internal_getDefinitionManager().getControllerDefinition(instanceName).controllerInstance;\r\n\t}\r\n\r\n\tpublic registerComponent(tag:string,templateUrl:string,preload:boolean){\r\n\t\tthis._internal_getDefinitionManager().addComponentDefinition(tag,templateUrl,preload,this.asyncCaller);\r\n\t}\r\n\r\n\tpublic getComponent(tagName:string){\r\n\t\treturn this._internal_getDefinitionManager().getComponent(tagName);\r\n\t}\r\n\t\r\n\tpublic getComponentController(componentId:string):Object{\r\n\t\treturn this._internal_getDefinitionManager().getControllerInstByDomId(componentId);\r\n\t}\r\n\t\r\n\tpublic refresh(alias?:string|Array<string>,excludeElement?:HTMLElement) {\r\n\t\tif(!this.dirtyChecker){\r\n\t\t\tthis.dirtyChecker = new DirtyChecker(this);\r\n\t\t}\r\n\t\tthis.dirtyChecker.runDirtyChecking(alias,excludeElement);\r\n\t}\r\n\t//internal function\r\n\tpublic _internal_getDefinitionManager():DefinitionManager{\r\n\t\tif(!this.defMgr){\r\n\t\t\tthis.defMgr = new DefinitionManager(this);\r\n\t\t}\r\n\t\treturn this.defMgr;\r\n\t}\r\n\tpublic _internal_dealWithElement(element:HTMLElement):void {\r\n\t\tthis.analyizeElement(element);\r\n\t}\r\n\r\n\tprivate manageApplication():void{\r\n\t\tlet apps:NodeList = Selector.querySelectorAll(document,\"[uku-application]\");\r\n\t\tif (apps.length === 1) {\r\n\t\t\tthis.analyizeElement(apps[0] as HTMLElement, (ele)=>{\r\n\t\t\t\tthis.dispatchEvent(new Event(UkuEventType.INITIALIZED,ele));\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Only one 'uku-application' can be declared in a whole html.\");\r\n\t\t}\r\n\t}\r\n\tprivate analyizeElement(element:HTMLElement, callback?:Function):void{\r\n\t\tlet anylyzer = new Analyzer(this);\r\n\t\tif(callback){\r\n\t\t\t((retFunc:Function)=>{\r\n\t\t\t\tanylyzer.addListener(Analyzer.ANALYIZE_COMPLETED, (e)=>{\r\n\t\t\t\t\tretFunc(e.element);\r\n\t\t\t\t});\r\n\t\t\t})(callback);\r\n\t\t}\r\n\t\tanylyzer.analyizeElement(element);\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/Ukulele.ts\n **/","import {IEventEmitter} from \"./IEventEmitter\";\r\nimport {Event} from \"./Event\";\r\nexport class EventEmitter implements IEventEmitter{\r\n    private eventsPool:Object;\r\n    \r\n    constructor(){\r\n        this.eventsPool = {};\r\n    }\r\n    \r\n    getEventsPool():Object{\r\n        return this.eventsPool;\r\n    }\r\n    addListener(eventType:string, handler:Function):void{\r\n        if(!this.eventsPool[eventType]){\r\n            this.eventsPool[eventType] = [];\r\n        }\r\n        this.eventsPool[eventType].push(handler);\r\n    }\r\n    removeListener(eventType:string, handler:Function):void{\r\n        if(this.eventsPool[eventType]){\r\n            for(let i=this.eventsPool[eventType].length-1;i>=0;i--){\r\n                if(this.eventsPool[eventType][i] === handler){\r\n                    this.eventsPool[eventType].splice(i,1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    hasListener(eventType:string):boolean{\r\n        if(this.eventsPool[eventType] && this.eventsPool[eventType].length > 0){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    dispatchEvent(event:Event):void{\r\n        if(event && event.eventType){\r\n            let handlers:Array<Function> = this.eventsPool[event.eventType];\r\n            if(handlers){\r\n                for(let i=0;i<handlers.length;i++){\r\n                    handlers[i].call(this,event);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/EventEmitter.ts\n **/","declare global{\r\n    interface Function {\r\n        resolve(ac:AsyncCaller):void;\r\n    }\r\n}\r\n\r\nclass FunctionObject{\r\n    func:Function;\r\n    argu:Array<any>;\r\n    constructor(_func:Function,_argu:Array<any>){\r\n        this.func = _func;\r\n        this.argu = _argu;\r\n    }\r\n}\r\n\r\nexport class AsyncCaller {\r\n    private allTasksPool:Array<FunctionObject> = [];\r\n    private queueTasksPool:Array<FunctionObject> = [];\r\n    private execType:string = \"queue\";\r\n    private errorMsg:string = \"Only one type of task can be executed at same time\";\r\n    private finalFunc:Function;\r\n    \r\n    constructor(){\r\n        Function.prototype.resolve = function(ac):void{\r\n            ac.aysncFunRunOver.call(ac, this);\r\n        };\r\n    }\r\n    \r\n    pushAll(asyncFunc:Function,arguArr:Array<any>):AsyncCaller{\r\n        if(this.queueTasksPool.length === 0){\r\n            let funcObj:FunctionObject = new FunctionObject(asyncFunc,arguArr);\r\n            this.allTasksPool.push(funcObj);\r\n        }else {\r\n            console.error(this.errorMsg);\r\n        }\r\n        return this;\r\n    }\r\n    pushQueue(asyncFunc,arguArr):AsyncCaller{\r\n        if(this.allTasksPool.length === 0){\r\n            let funcObj:FunctionObject = new FunctionObject(asyncFunc,arguArr);\r\n            this.queueTasksPool.push(funcObj);\r\n        }else{\r\n            console.error(this.errorMsg);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    aysncFunRunOver(caller:Function):void{\r\n        if(this.execType === \"queue\"){\r\n            if(this.queueTasksPool.length === 0){\r\n                this.finalFunc && this.finalFunc();\r\n            }else{\r\n                let funcObj:FunctionObject = this.queueTasksPool[0];\r\n                this.queueTasksPool.shift();\r\n                funcObj.func(...funcObj.argu);\r\n\r\n            }\r\n        }else if(this.execType === \"all\"){\r\n            for (let i = 0; i < this.allTasksPool.length; i++) {\r\n                let task:FunctionObject = this.allTasksPool[i];\r\n                if(caller === task.func){\r\n                    this.allTasksPool.splice(i,1);\r\n                    break;\r\n                }\r\n            }\r\n            if(this.allTasksPool.length === 0){\r\n                this.finalFunc && this.finalFunc();\r\n            }\r\n        }\r\n    }\r\n    \r\n    exec(callback:Function):void{\r\n        this.finalFunc = callback;\r\n        if(this.allTasksPool.length > 0){\r\n            this.execType = \"all\";\r\n            this.executeAll();\r\n        }else if(this.queueTasksPool.length > 0){\r\n            this.execType = \"queue\";\r\n            this.executeQueue();\r\n        }else{\r\n            this.finalFunc && this.finalFunc();\r\n        }\r\n    }\r\n    private executeQueue():void{\r\n        let funcObj:FunctionObject = this.queueTasksPool[0];\r\n        this.queueTasksPool.shift();\r\n        funcObj.func(...funcObj.argu);\r\n    };\r\n    private executeAll():void{\r\n        for(let i=0;i<this.allTasksPool.length;i++){\r\n            let funcObj:FunctionObject = this.allTasksPool[i];\r\n            funcObj.func(...funcObj.argu);\r\n        }\r\n    };\r\n}\r\n\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/AsyncCaller.ts\n **/","import {ObjectUtil} from \"../util/ObjectUtil\";\r\nimport {Ajax} from \"../extend/Ajax\";\r\nimport {ControllerModel} from \"../model/ControllerModel\";\r\nimport {AsyncCaller} from \"../util/AsyncCaller\"\r\nimport {ComponentModel} from \"../model/ComponentModel\";\r\nimport {ComponentPoolItem} from \"../model/ComponentPoolItem\";\r\nimport {ComponentConfiguration} from \"../model/ComponentConfiguration\";\r\nimport {UkuleleUtil} from \"../util/UkuleleUtil\";\r\nimport {IUkulele} from \"./IUkulele\";\r\nexport class DefinitionManager{\r\n\tprivate uku:IUkulele;\r\n\tconstructor(_uku:IUkulele){\r\n\t\tthis.uku = _uku;\r\n\t}\r\n    private controllersDefinition:Object = {};\r\n\tprivate componentsDefinition:Object = {};\r\n\tprivate componentsPool:Object = {};\r\n\tprivate copyControllers:Object = {};\r\n\tprivate dependentScriptsCache:Object = {};\r\n    private ajax:Ajax = new Ajax();\r\n\r\n    getComponentsDefinition():Object{\r\n        return this.componentsDefinition;\r\n    }\r\n\t\r\n\tgetComponentsPool():Object{\r\n\t\treturn this.componentsPool;\r\n\t}\r\n\t\r\n\tsetComponentsPool(pool):void{\r\n\t\tthis.componentsPool = pool;\r\n\t}\r\n\t\r\n    setComponentsDefinition(value:Object):void{\r\n        this.componentsDefinition = value;\r\n    }\r\n\r\n\tgetComponentDefinition(tagName:string):ComponentModel{\r\n\t\treturn this.componentsDefinition[tagName] as ComponentModel;\r\n\t}\r\n\r\n    getControllerDefinition(instanceName:string):ControllerModel{\r\n        return this.controllersDefinition[instanceName] as ControllerModel;\r\n    }\r\n\r\n\tgetControllersDefinition():Object{\r\n\t\treturn this.controllersDefinition;\r\n\t}\r\n\r\n\tgetComponent(tagName:string){\r\n\t\treturn this.componentsPool[tagName];\r\n\t}\r\n\r\n    getCopyControllers():Object{\r\n        return this.copyControllers;\r\n    }\r\n\r\n    copyAllController():void{\r\n\t\tfor (let alias in this.controllersDefinition) {\r\n\t\t\tlet controllerModel = this.controllersDefinition[alias];\r\n\t\t\tlet controller = controllerModel.controllerInstance;\r\n\t\t\tthis.copyControllerInstance(controller, alias);\r\n\t\t}\r\n\t}\r\n\r\n\tcopyControllerInstance(controller:Object, alias:string):void{\r\n\t\tlet previousCtrlInst = ObjectUtil.deepClone(controller);\r\n\t\tdelete this.copyControllers[alias];\r\n\t\tthis.copyControllers[alias] = previousCtrlInst;\r\n\t}\r\n\r\n    addControllerDefinition(instanceName:string, controllerInst):void{\r\n        let controllerModel = new ControllerModel(instanceName, controllerInst);\r\n\t\tcontrollerInst._alias = instanceName;\r\n\t\tthis.controllersDefinition[instanceName] = controllerModel;\r\n\t}\r\n\t\r\n\tgetControllerInstByDomId(domId:string):Object{\r\n\t\tfor (let alias in this.controllersDefinition) {\r\n\t\t\tlet controllerModel = this.controllersDefinition[alias];\r\n\t\t\tlet controller = controllerModel.controllerInstance;\r\n\t\t\tif(controller._dom && controller._dom.id === domId){\r\n\t\t\t\treturn controller;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\t\r\n    addComponentDefinition(tag:string,templateUrl:string,preload:boolean,asyncCaller:AsyncCaller):void{\r\n\t\tlet _this:DefinitionManager = this;\r\n        if(!preload){\r\n\t\t\tthis.componentsPool[tag] = new ComponentPoolItem(tag,templateUrl,true);\r\n\t\t}else{\r\n\t\t\tthis.componentsPool[tag] = new ComponentPoolItem(tag,templateUrl,false);;\r\n\t\t\tasyncCaller.pushAll(dealWithComponentConfig,[tag,templateUrl]);\r\n\t\t}\r\n\t\tfunction dealWithComponentConfig(tag:string,template:string){\r\n\t\t\t_this.ajax.get(templateUrl,function(result){\r\n\t\t\t\tlet componentConfig = UkuleleUtil.getComponentConfiguration(result);\r\n\t\t\t\t_this.analyizeComponent(tag,componentConfig,function(){\r\n\t\t\t\t\tdealWithComponentConfig.resolve(asyncCaller);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n    addLazyComponentDefinition(tag:string,templateUrl:string):Promise<void>{\r\n\t\treturn new Promise<void>((resolve ,reject) => {\r\n\t\t\tthis.ajax.get(templateUrl,(result)=>{\r\n\t\t\t\tlet componentConfig = UkuleleUtil.getComponentConfiguration(result);\r\n\t\t\t\tthis.analyizeComponent(tag,componentConfig,()=>{\r\n\t\t\t\t\tthis.componentsPool[tag] = {'tagName':tag,'templateUrl':templateUrl,'lazy':false};\r\n\t\t\t\t\t//callback();\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\r\n\r\n\tgetBoundAttributeValue(attr:string, ...additionalArgu):any{\r\n\t\tlet controllerModel = this.getBoundControllerModelByName(attr);\r\n\t\tlet controllerInst = controllerModel.controllerInstance;\r\n\t\t//let result = UkuleleUtil.getFinalValue(this.uku, controllerInst, attr, additionalArgu);\r\n\t\tlet parameters:Array<any> = [this.uku,controllerInst,attr];\r\n\t\tparameters = parameters.concat(additionalArgu);\r\n\t\tlet result = UkuleleUtil.getFinalValue.apply(null,parameters);\r\n\t\treturn result;\r\n\t};\r\n\r\n\r\n\tgetControllerModelByName(expression:string):ControllerModel {\r\n\t\treturn this.getBoundControllerModelByName(expression);\r\n\t};\r\n\r\n\r\n\tgetFinalValueByExpression(expression:string):any{\r\n\t\tlet controller = this.getControllerModelByName(expression).controllerInstance;\r\n\t\treturn UkuleleUtil.getFinalValue(this.uku, controller, expression);\r\n\t};\r\n\r\n    private getBoundControllerModelByName(attrName:string):ControllerModel{\r\n\t\tlet instanceName = UkuleleUtil.getBoundModelInstantName(attrName);\r\n\t\tlet controllerModel:ControllerModel = this.controllersDefinition[instanceName];\r\n\t\tif (!controllerModel) {\r\n\t\t\tlet tempArr = attrName.split(\".\");\r\n\t\t\tlet isParentScope = tempArr[0];\r\n\t\t\tif (isParentScope === \"parent\" && this.uku.parentUku) {\r\n\t\t\t\ttempArr.shift();\r\n\t\t\t\tattrName = tempArr.join(\".\");\r\n\t\t\t\treturn this.uku.parentUku._internal_getDefinitionManager().getControllerModelByName(attrName);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn controllerModel;\r\n\t}\r\n\r\n    private analyizeComponent(tag:string,config:ComponentConfiguration,callback:Function):void{\r\n\t\tlet deps:Array<string> = config.dependentScripts;\r\n\t\tlet self:DefinitionManager = this;\r\n\t\tif(deps && deps.length > 0){\r\n\t\t\tlet ac = new AsyncCaller();\r\n\t\t\tlet tmpAMD;\r\n\t\t\tif(typeof window['define'] === 'function' && window['define'].amd){\r\n\t\t\t\ttmpAMD = window['define'];\r\n\t\t\t\twindow['define'] = undefined;\r\n\t\t\t}\r\n\t\t\tfor (let i = 0; i < deps.length; i++) {\r\n\t\t\t\tlet dep = deps[i];\r\n\t\t\t\tac.pushAll(loadDependentScript,[ac,dep]);\r\n\t\t\t}\r\n\t\t\tac.exec(()=>{\r\n\t\t\t\tif(tmpAMD){\r\n\t\t\t\t\twindow['define'] = tmpAMD;\r\n\t\t\t\t}\r\n\t\t\t\tthis.buildeComponentModel(tag,config.template,config.componentControllerScript,config.stylesheet);\r\n\t\t\t\tcallback();\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\tthis.buildeComponentModel(tag,config.template,config.componentControllerScript,config.stylesheet);\r\n\t\t\tcallback();\r\n\t\t}\r\n\t\t\r\n\t\tfunction loadDependentScript(ac:AsyncCaller,src:string):void{\r\n\t\t\tif(!self.dependentScriptsCache[src]){\r\n\t\t\t\tlet head = document.getElementsByTagName('HEAD')[0];\r\n\t\t\t\tlet script = document.createElement('script');\r\n\t\t\t\tscript.type = 'text/javascript';\r\n\t\t\t\tscript.charset = 'utf-8';\r\n\t\t\t\tscript.async = true;\r\n\t\t\t\tscript.src = src;\r\n\t\t\t\tscript.onload = (e)=>{\r\n\t\t\t\t\tself.dependentScriptsCache[e.target['src']] = true;\r\n\t\t\t\t\tloadDependentScript.resolve(ac);\r\n\t\t\t\t};\r\n\t\t\t\thead.appendChild(script);\r\n\t\t\t}else{\r\n\t\t\t\tloadDependentScript.resolve(ac);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildeComponentModel(tag:string,template:string,script:string,style:string):void{\r\n\t\tlet debugComment = \"//# sourceURL=\"+tag+\".js\";\r\n\t\ttry{\r\n\t\t\tlet controllerClazz\r\n\t\t\tif(script){\r\n\t\t\t\tscript += debugComment;\r\n\t\t\t\tcontrollerClazz = eval(script);\r\n\t\t\t}\r\n\t\t\tlet newComp = new ComponentModel(tag, template,controllerClazz);\r\n\t\t\tthis.componentsDefinition[tag] = newComp;\r\n\t\t\tif(style){\r\n\t\t\t\tdealWithShadowStyle(tag,style);\r\n\t\t\t}\r\n\t\t}catch(e){\r\n\t\t\tconsole.error(e);\r\n\t\t}\r\n\r\n\t\tfunction dealWithShadowStyle(tagName:string,stylesheet:string):void{\r\n\t\t\tlet head = document.getElementsByTagName('HEAD')[0];\r\n\t\t\tlet style = document.createElement('style');\r\n\t\t\tstyle.type = 'text/css';\r\n\t\t\tvar styleArray = stylesheet.split(\"}\");\r\n\t\t\tvar newArray = [];\r\n\t\t\tstyleArray.forEach((value:string,index:number)=>{\r\n\t\t\t\tvar newValue = value.replace(/^\\s*/,\"\");\r\n\t\t\t\tif(newValue){\r\n\t\t\t\t\tnewArray.push(newValue);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tstylesheet = newArray.join(\"}\\n\" + \".\" + tagName + \" \");\r\n\t\t\tstylesheet = \".\" + tagName + \" \" + stylesheet + \"}\";\r\n\t\t\tstyle.innerHTML = stylesheet;\r\n\t\t\thead.appendChild(style);\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/DefinitionManager.ts\n **/","export class ObjectUtil{\r\n    static isArray(obj:Object):boolean {\r\n        return Object.prototype.toString.call(obj) === '[object Array]';\r\n    }\r\n\r\n    static getType(obj:any):string {\r\n        let type:string = typeof (obj);\r\n        if (type === \"object\") {\r\n            if (ObjectUtil.isArray(obj)) {\r\n                return \"array\";\r\n            } else {\r\n                return type;\r\n            }\r\n        } else {\r\n            return type;\r\n        }\r\n    }\r\n\r\n    static compare(objA:any, objB:any):boolean{\r\n        let type:string = ObjectUtil.getType(objA);\r\n        let typeB:string = ObjectUtil.getType(objB);\r\n        let result:boolean = true;\r\n        if (type !== typeB) {\r\n            return false;\r\n        } else {\r\n            switch (type) {\r\n            case \"object\":\r\n                for (let key in objA) {\r\n                    let valuA = objA[key];\r\n                    let valuB = objB[key];\r\n                    let isEqual:boolean = ObjectUtil.compare(valuA, valuB);\r\n                    if (!isEqual) {\r\n                        result = false;\r\n                        break;\r\n                    }\r\n                }\r\n                break;\r\n            case \"array\":\r\n                if (objA.length === objB.length) {\r\n                    for (let i = 0; i < objA.length; i++) {\r\n                        let itemA = objA[i];\r\n                        let itemB = objB[i];\r\n                        let isEqual2:boolean = ObjectUtil.compare(itemA, itemB);\r\n                        if (!isEqual2) {\r\n                            result = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                } else {\r\n                    result = false;\r\n                }\r\n                break;\r\n            case \"function\":\r\n                result = objA.toString() === objB.toString();\r\n                break;\r\n            default:\r\n                result = objA === objB;\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static deepClone(obj:any):any {\r\n        let o:any;\r\n        let i:any;\r\n        let j:number;\r\n        if (typeof (obj) !== \"object\" || obj === null) {\r\n            return obj;\r\n        }\r\n        if (obj instanceof(Array)) {\r\n            o = [];\r\n            i = 0;\r\n            j = obj.length;\r\n            for (; i < j; i++) {\r\n                if (typeof (obj[i]) === \"object\" && obj[i] !== null) {\r\n                    o[i] = ObjectUtil.deepClone(obj[i]);\r\n                } else {\r\n                    o[i] = obj[i];\r\n                }\r\n            }\r\n        } else {\r\n            o = {};\r\n            for (i in obj) {\r\n                if (typeof (obj[i]) === \"object\" && obj[i] !== null && i !== \"_dom\") {\r\n                    o[i] = ObjectUtil.deepClone(obj[i]);\r\n                } else {\r\n                    o[i] = obj[i];\r\n                }\r\n            }\r\n        }\r\n\r\n        return o;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/ObjectUtil.ts\n **/","export class Ajax {\r\n    get(url:string, success:Function, error?:Function):void {\r\n        let request:XMLHttpRequest = new XMLHttpRequest();\r\n        request.onreadystatechange = function() {\r\n            if (request.readyState === 4) {\r\n                if (request.status === 200) {\r\n                    success(request.responseText);\r\n                } else {\r\n                    if (error) {\r\n                        error();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        request.open(\"GET\", url, true);\r\n        request.send(null);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/extend/Ajax.ts\n **/","import {BoundItemBase} from \"./BoundItemBase\";\r\nexport class ControllerModel{\r\n    alias:string;\r\n    controllerInstance:Object;\r\n    boundItems:Array<BoundItemBase>;\r\n    constructor(alias:string ,ctrlInst:Object){\r\n        this.alias = alias;\r\n        this.controllerInstance = ctrlInst;\r\n        this.boundItems = [];\r\n    }\r\n    addBoundItem(boundItem:BoundItemBase) :void{\r\n        this.boundItems.push(boundItem);\r\n    }\r\n\r\n    getBoundItemsByName(name):Array<BoundItemBase> {\r\n        let tempBoundItems:Array<BoundItemBase> = [];\r\n        for (let i = 0; i < this.boundItems.length; i++) {\r\n            let boundItem:BoundItemBase = this.boundItems[i];\r\n            if (boundItem.attributeName === name) {\r\n                tempBoundItems.push(boundItem);\r\n            }\r\n        }\r\n        return tempBoundItems;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/ControllerModel.ts\n **/","export class ComponentModel{\r\n    tagName:string;\r\n    template:string;\r\n    controllerClazz:Function;\r\n    constructor(tagName,template,clazz){\r\n        this.tagName = tagName;\r\n        this.template = template;\r\n        this.controllerClazz = clazz;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/ComponentModel.ts\n **/","export class ComponentPoolItem{\r\n    tagName:string;\r\n    templateUrl:string;\r\n    lazy:boolean;\r\n    \r\n    constructor(_tagName,_templateUrl,_lazy){\r\n        this.tagName = _tagName;\r\n        this.templateUrl = _templateUrl;\r\n        this.lazy = _lazy;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/ComponentPoolItem.ts\n **/","import {Selector} from \"../extend/Selector\";\r\nimport {ArgumentUtil} from \"./ArgumentUtil\";\r\nimport {ComponentConfiguration} from \"../model/ComponentConfiguration\";\r\nimport {IUkulele} from \"../core/IUkulele\";\r\nimport {ControllerModel} from \"../model/ControllerModel\";\r\nclass ValueAndParent{\r\n    value:any;\r\n    parent:Object;\r\n    constructor(_value:any,_parant:Object){\r\n        this.value = _value;\r\n        this.parent = _parant;\r\n    }\r\n}\r\nexport class UkuleleUtil{\r\n    static getFinalAttribute(expression:string):string {\r\n        let temp:Array<string> = expression.split(\".\");\r\n        let isParent:string = temp.shift();\r\n        if (isParent === \"parent\") {\r\n            return UkuleleUtil.getFinalAttribute(temp.join(\".\"));\r\n        }\r\n        return temp.join(\".\");\r\n    }\r\n\r\n    static searchHtmlTag(htmlString:string, tagName:string):number {\r\n        let reTemp:string = \"^<\" + tagName + \"[\\\\s\\\\S]*>\" + \"[\\\\s\\\\S]*</\" + tagName + \">$\";\r\n        let re:RegExp = new RegExp(reTemp);\r\n        let index:number = htmlString.search(re);\r\n        return index;\r\n    }\r\n\r\n    static getInnerHtml(htmlString:string, tagName:string):string{\r\n        let reTemp:string = \"<\" + tagName + \"[\\\\s\\\\S]*>\" + \"[\\\\s\\\\S]*</\" + tagName + \">\";\r\n        let re:RegExp = new RegExp(reTemp);\r\n        let match:RegExpMatchArray = htmlString.match(re);\r\n        if(match.index > -1){\r\n            let matchString:string = match[0];\r\n            let index:number = matchString.search(\">\");\r\n            let tempString = matchString.substr(index+1);\r\n            let index2:number = tempString.lastIndexOf(\"</\");\r\n            tempString = tempString.substring(0,index2);\r\n            tempString = tempString.replace(/(^\\s*)|(\\s*$)/g, \"\");\r\n            console.log(tempString);\r\n            return tempString;\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    static getComponentConfiguration(htmlString:string):ComponentConfiguration{\r\n        let tempDom:HTMLElement = document.createElement(\"div\");\r\n        tempDom.innerHTML = htmlString;\r\n        let tpl:NodeList = Selector.querySelectorAll(tempDom,\"template\");\r\n        let scripts:NodeList = Selector.querySelectorAll(tempDom,\"script\");\r\n        let stylesheet:NodeList = Selector.querySelectorAll(tempDom,\"style\");\r\n        let deps:Array<string> = [];\r\n        let ccs:string = null;\r\n        for (let i = 0; i < scripts.length; i++) {\r\n            let script:HTMLScriptElement = scripts[i] as HTMLScriptElement;\r\n            if (script.src !== \"\") {\r\n                deps.push(script.src);\r\n            } else {\r\n                ccs = script.innerHTML;\r\n            }\r\n        }\r\n        if(stylesheet && stylesheet[0]){\r\n            return new ComponentConfiguration((tpl[0] as HTMLElement).innerHTML,deps,ccs,(stylesheet[0] as HTMLElement).innerHTML);\r\n        }else{\r\n            return new ComponentConfiguration((tpl[0] as HTMLElement).innerHTML,deps,ccs);\r\n        }\r\n        \r\n    }\r\n\r\n    static searchUkuAttrTag(htmlString:string):number {\r\n        let re:RegExp = /^uku\\-.*/;\r\n        let index:number = htmlString.search(re);\r\n        return index;\r\n    }\r\n\r\n    static getAttrFromUkuTag(ukuTag:string, camelCase:boolean = false){\r\n        if(UkuleleUtil.searchUkuAttrTag(ukuTag) === 0){\r\n            ukuTag = ukuTag.replace('uku-','');\r\n        }\r\n        if(camelCase){\r\n            let names:Array<string> = ukuTag.split('-');\r\n            ukuTag = names[0];\r\n            for(let i=1;i<names.length;i++){\r\n                let firstLetter:string =  names[i].charAt(0).toUpperCase();\r\n                ukuTag = ukuTag + firstLetter + names[i].substr(1);\r\n            }\r\n        }\r\n        return ukuTag;\r\n    }\r\n\r\n    static searchUkuExpTag(expression:string):number {\r\n        let re:RegExp = /^\\{\\{.*\\}\\}$/;\r\n        let index:number = expression.search(re);\r\n        return index;\r\n    }\r\n\r\n    static searchUkuFuncArg(htmlString:string):number {\r\n        let re:RegExp = /\\(.*\\)$/;\r\n        let index:number = htmlString.search(re);\r\n        return index;\r\n    }\r\n\r\n    static isRepeat(element:HTMLElement):boolean {\r\n        if (element.getAttribute(\"uku-repeat\")) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    static isInRepeat(element:HTMLElement):boolean {\r\n        let parents:Array<HTMLElement> = Selector.parents(element);\r\n        for (let i = 0; i < parents.length; i++) {\r\n            let parent:HTMLElement = parents[i] as HTMLElement;\r\n            if(parent.nodeType !== 9){\r\n                let b:string = parent.getAttribute(\"uku-repeat\");\r\n                if (b) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static getBoundModelInstantName(expression:string):string {\r\n        let controlInstName:string = expression.split('.')[0];\r\n        if (controlInstName) {\r\n            return controlInstName;\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    static getAttributeFinalValue(object:Object, attrName:string):any {\r\n        let valueObject:ValueAndParent = UkuleleUtil.getAttributeFinalValueAndParent(object, attrName);\r\n        let value:any = valueObject.value;\r\n        return value;\r\n    }\r\n    \r\n    static getAttributeFinalValueAndParent(object:any, attrName:string):ValueAndParent {\r\n        let finalValue:any = object;\r\n        let parentValue;\r\n        if(typeof attrName === \"string\"){\r\n            let attrValue:string = UkuleleUtil.getFinalAttribute(attrName);\r\n            let temp = attrValue.split(\".\");\r\n            if (attrValue !== \"\" && finalValue) {\r\n                for (let i = 0; i < temp.length; i++) {\r\n                    let property = temp[i];\r\n                    parentValue = finalValue;\r\n                    finalValue = finalValue[property];\r\n                    if (finalValue === undefined || finalValue === null) {\r\n                        break;\r\n                    }\r\n                }\r\n            }else{\r\n                if(object.hasOwnProperty(\"_alias\") && object._alias === attrName){\r\n                    finalValue = object;\r\n                }else{\r\n                    finalValue = attrName;\r\n                }\r\n            }\r\n        }\r\n        return new ValueAndParent(finalValue,parentValue);\r\n    }\r\n\r\n    static getFinalValue(uku:IUkulele, object:Object, attrName:string, ...additionalArgu) {\r\n        let index:number = -1;\r\n        if(typeof attrName === \"string\"){\r\n            index = UkuleleUtil.searchUkuFuncArg(attrName);\r\n        }\r\n        if (index === -1) {\r\n            //is attribute\r\n            return UkuleleUtil.getAttributeFinalValue(object, attrName);\r\n        } else {\r\n            //is function\r\n            let functionName = attrName.substring(0, index);\r\n            let finalValueObject:ValueAndParent = UkuleleUtil.getAttributeFinalValueAndParent(object, functionName);\r\n            let finalValue = finalValueObject.value;\r\n            if (finalValue === undefined) {\r\n                return finalValue;\r\n            }\r\n            let new_arguments = [];\r\n            let _argumentsString:string = attrName.substring(index + 1, attrName.length - 1);\r\n            if (_argumentsString !== \"\") {\r\n                let _arguments:Array<any> = ArgumentUtil.analyze(_argumentsString, uku);\r\n                for (let i = 0; i < _arguments.length; i++) {\r\n                    let temp:any;\r\n                    let argument:any = _arguments[i];\r\n                    let argType:string = typeof argument;\r\n                    let controllerModel:ControllerModel = null;\r\n                    if(argType === \"string\"){\r\n                        controllerModel = uku._internal_getDefinitionManager().getControllerModelByName(argument);\r\n                        if (controllerModel && controllerModel.controllerInstance) {\r\n                            let agrumentInst:Object = controllerModel.controllerInstance;\r\n                            if (argument.split(\".\").length === 1) {\r\n                                temp = agrumentInst;\r\n                            } else {\r\n                                temp = UkuleleUtil.getFinalValue(uku, agrumentInst, argument);\r\n                            }\r\n                        } else {\r\n                            temp = UkuleleUtil.getFinalValue(uku, object, argument);\r\n                        }\r\n                        new_arguments.push(temp);\r\n                    }else{\r\n                        new_arguments.push(argument);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (additionalArgu) {\r\n                let additionalArguArray = Array.prototype.slice.call(additionalArgu);\r\n                new_arguments = new_arguments.concat(additionalArguArray);\r\n            }\r\n            finalValue = finalValue.apply(finalValueObject.parent, new_arguments);\r\n            return finalValue;\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/UkuleleUtil.ts\n **/","export class Selector{\r\n    static querySelectorAll(element:HTMLBodyElement|HTMLDocument|HTMLElement,query:string):NodeList{\r\n        if(window.hasOwnProperty('jQuery') && typeof window['jQuery'] !== \"undefined\"){\r\n            return window['jQuery'](element).find(query);\r\n        }else{\r\n            return element.querySelectorAll(query);\r\n        }\r\n    }\r\n\r\n    static fuzzyFind(element:HTMLElement,text:string):HTMLElement {\r\n        if (element && element.attributes) {\r\n            for (let i = 0; i < element.attributes.length; i++) {\r\n                let attr = element.attributes[i];\r\n                if (attr.nodeName.search(text) > -1) {\r\n                    return element;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    static directText(element:HTMLElement,text?:any):string {\r\n        let o = \"\";\r\n        let nodes = element.childNodes;\r\n        for (let i = 0; i <= nodes.length - 1; i++) {\r\n            let node = nodes[i];\r\n            if (node.nodeType === 3) {\r\n                if (text || text ===\"\" || text === 0 || text === false) {\r\n                    node.nodeValue = text;\r\n                    return;\r\n                } else {\r\n                    o += node.nodeValue;\r\n                }\r\n            }\r\n        }\r\n        return o.trim();\r\n    }\r\n\r\n    static parents(element:HTMLElement):Array<HTMLElement>{\r\n        let parents = [];\r\n        while(element.parentNode && (element.parentNode as HTMLElement).tagName !== 'BODY'){\r\n            parents.push(element.parentNode as HTMLElement);\r\n            element = element.parentNode as HTMLElement;\r\n        }\r\n        return parents;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/extend/Selector.ts\n **/","import {IUkulele} from \"../core/IUkulele\";\r\nexport class ArgumentUtil{\r\n    static analyze(argumentString:string,uku:IUkulele):any{\r\n        //let re:RegExp = /^\\{\\{.*\\}\\}$/;\r\n        argumentString = argumentString.replace(/'/g,'\"');\r\n        let tempArr:Array<string> = argumentString.split(\",\");\r\n        for(let i=0;i<tempArr.length;i++){\r\n            let arr = tempArr[i];\r\n            for(let alias in uku._internal_getDefinitionManager().getControllersDefinition()){\r\n                let index:number = arr.search(alias);\r\n                let index2:number = arr.search(\"parent.\");\r\n                if(index > -1 || index2 > -1){\r\n                    tempArr[i] = '\"'+ arr +'\"';\r\n                }\r\n            }\r\n        }\r\n        argumentString = tempArr.join(\",\");\r\n        argumentString = '['+argumentString+']';\r\n        try{\r\n            let jsonArr:any = JSON.parse(argumentString);\r\n            return jsonArr;\r\n        }catch(e){\r\n            console.error(e);\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util/ArgumentUtil.ts\n **/","export class ComponentConfiguration{\r\n    template:string;\r\n    dependentScripts:Array<string>;\r\n    componentControllerScript:string;\r\n    stylesheet:string;\r\n    \r\n    constructor(_template:string,_dependentScripts:Array<string>,_componentControllerScript:string,_stylesheet:string = undefined){\r\n        this.template = _template;\r\n        this.dependentScripts = _dependentScripts;\r\n        this.componentControllerScript = _componentControllerScript;\r\n        this.stylesheet = _stylesheet;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/ComponentConfiguration.ts\n **/","import {UkuleleUtil} from \"../util/UkuleleUtil\";\r\nimport {ObjectUtil} from \"../util/ObjectUtil\";\r\nimport {UkuEventType} from \"./UkuEventType\";\r\nimport {IUkulele} from \"./IUkulele\";\r\nimport {EventEmitter} from \"./EventEmitter\";\r\nimport {ControllerModel} from \"../model/ControllerModel\";\r\nimport {BoundItemBase} from \"../model/BoundItemBase\";\r\nimport {Event} from \"./Event\";\r\nexport class DirtyChecker{\r\n\tprivate uku:IUkulele;\r\n\tprivate defMgr;\r\n\tconstructor(_uku:IUkulele){\r\n\t\tthis.uku = _uku;\r\n\t\tthis.defMgr = this.uku._internal_getDefinitionManager();\r\n\t}\r\n    \r\n\trunDirtyChecking(ctrlAliasName?:string|Array<string>, excludeElement?:HTMLElement):void {\r\n\t\tlet _this:DirtyChecker = this;\r\n\t\tif (ctrlAliasName) {\r\n\t\t\tif (typeof (ctrlAliasName) === \"string\") {\r\n\t\t\t\twatchController(ctrlAliasName as string);\r\n\t\t\t} else if (ObjectUtil.isArray(ctrlAliasName)) {\r\n\t\t\t\tfor (let i = 0; i < ctrlAliasName.length; i++) {\r\n\t\t\t\t\twatchController(ctrlAliasName[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (let alias in this.defMgr.getControllersDefinition()) {\r\n\t\t\t\twatchController(alias);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction watchController(alias:string) {\r\n\t\t\tlet controllerModel:ControllerModel = _this.defMgr.getControllersDefinition()[alias];\r\n\t\t\tif (!controllerModel) {\r\n\t\t\t\tif (_this.uku.parentUku) {\r\n\t\t\t\t\t_this.uku.parentUku.refresh(alias);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet controller:Object = controllerModel.controllerInstance;\r\n\t\t\tlet previousCtrlModel:ControllerModel = _this.defMgr.getCopyControllers()[alias];\r\n\t\t\tlet changedElementCount = 0;\r\n\t\t\tfor (let i = 0; i < controllerModel.boundItems.length; i++) {\r\n\t\t\t\tlet boundItem:BoundItemBase = controllerModel.boundItems[i] as BoundItemBase;\r\n\t\t\t\tlet attrName:string = boundItem.attributeName;\r\n\t\t\t\tif(attrName.search('parent.') > -1){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (previousCtrlModel) {\r\n\t\t\t\t\tif (boundItem.hasOwnProperty('ukuTag') && boundItem['ukuTag'] === \"selected\") {\r\n\t\t\t\t\t\tattrName = attrName.split(\"|\")[0];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet finalValue = UkuleleUtil.getFinalValue(_this.uku, controller, attrName);\r\n\t\t\t\t\tlet previousFinalValue = UkuleleUtil.getFinalValue(_this.uku, previousCtrlModel, attrName);\r\n\t\t\t\t\tif (!ObjectUtil.compare(previousFinalValue, finalValue)) {\r\n\t\t\t\t\t\tattrName = boundItem.attributeName;\r\n\t\t\t\t\t\tlet changedBoundItems:Array<BoundItemBase> = controllerModel.getBoundItemsByName(attrName);\r\n\t\t\t\t\t\tfor (let j = 0; j < changedBoundItems.length; j++) {\r\n\t\t\t\t\t\t\tlet changedBoundItem:BoundItemBase = changedBoundItems[j] as BoundItemBase;\r\n\t\t\t\t\t\t\tif(changedBoundItem.element !== excludeElement || (boundItem.hasOwnProperty('ukuTag') && changedBoundItem['ukuTag'] !== \"value\")){\r\n\t\t\t\t\t\t\t\tchangedElementCount++;\r\n\t\t\t\t\t\t\t\tchangedBoundItem.render(controller);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(changedElementCount > 0 && _this.uku.hasListener(UkuEventType.REFRESH)){\r\n\t\t\t\t_this.uku.dispatchEvent(new Event(UkuEventType.REFRESH));\r\n\t\t\t}\r\n\t\t\t_this.defMgr.copyControllerInstance(controller, alias);\r\n\t\t}\r\n\t};\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/DirtyChecker.ts\n **/","export class UkuEventType{\r\n    static INITIALIZED:string = 'initialized';\r\n\tstatic REFRESH:string = 'refresh';\r\n\tstatic HANDLE_ELEMENT_COMPLETED:string = \"handle_element_completed\";\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/UkuEventType.ts\n **/","export class Event{\r\n    eventType:string;\r\n    element:HTMLElement;\r\n    \r\n    constructor(_eventType,_element?:HTMLElement){\r\n        this.eventType = _eventType;\r\n        this.element = _element;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/Event.ts\n **/","import { EventEmitter } from \"./EventEmitter\";\r\nimport { UkuleleUtil } from \"../util/UkuleleUtil\";\r\nimport { AsyncCaller } from \"../util/AsyncCaller\";\r\nimport { BoundItemAttributeFactory } from './BoundItemAttributeFactory';\r\nimport { BoundItemExpression } from '../model/BoundItemExpression';\r\nimport { BoundItemInnerText } from '../model/BoundItemInnerText';\r\nimport { BoundItemRepeat } from '../model/BoundItemRepeat';\r\nimport { BoundItemComponentAttribute } from \"../model/BoundItemComponentAttribute\";\r\nimport { elementChangedBinder } from \"./ElementActionBinder\";\r\nimport { IUkulele } from \"./IUkulele\";\r\nimport { EventListener } from \"../extend/EventListener\";\r\nimport { Selector } from \"../extend/Selector\";\r\nimport { Event as UkuEvent } from \"./Event\";\r\nexport class Analyzer extends EventEmitter {\r\n    private uku: IUkulele;\r\n    private defMgr;\r\n    static ANALYIZE_COMPLETED: string = 'analyizeCompleted';\r\n    constructor(_uku: IUkulele) {\r\n        super();\r\n        this.uku = _uku;\r\n        this.defMgr = this.uku._internal_getDefinitionManager();\r\n    }\r\n    //解析html中各个uku的tag\r\n\r\n    public analyizeElement(ele): void {\r\n        this.searchComponent(ele).then((element) => {\r\n            this.searchExpression(element);\r\n            this.searchUkuAttribute(element);\r\n            this.defMgr.copyAllController();\r\n            if (this.hasListener(Analyzer.ANALYIZE_COMPLETED)) {\r\n                this.dispatchEvent(new UkuEvent(Analyzer.ANALYIZE_COMPLETED, element));\r\n            }\r\n        });\r\n    }\r\n\r\n    private sortAttributes(subElement): Array<any> {\r\n        let orderAttrs = [];\r\n        for (let i = 0; i < subElement.attributes.length; i++) {\r\n            let attribute = subElement.attributes[i];\r\n            if (attribute.nodeName.search(\"uku-on\") !== -1) {\r\n                orderAttrs.push(attribute);\r\n            } else {\r\n                orderAttrs.unshift(attribute);\r\n            }\r\n        }\r\n        return orderAttrs;\r\n    }\r\n\r\n    private searchUkuAttribute(element): void {\r\n        let subElements = [];\r\n        //scan element which has uku-* tag\r\n        let isSelfHasUkuTag = Selector.fuzzyFind(element, 'uku-');\r\n        if (isSelfHasUkuTag) {\r\n            subElements.push(isSelfHasUkuTag);\r\n        }\r\n        let allChildren = Selector.querySelectorAll(element, \"*\");\r\n        for (let i = 0; i < allChildren.length; i++) {\r\n            let child: HTMLElement = allChildren[i] as HTMLElement;\r\n            let matchElement = Selector.fuzzyFind(child, 'uku-');\r\n            if (matchElement && !UkuleleUtil.isInRepeat(matchElement)) {\r\n                subElements.push(matchElement);\r\n            }\r\n        }\r\n        //解析绑定 attribute，注册event\r\n        for (let n = 0; n < subElements.length; n++) {\r\n            let subElement = subElements[n];\r\n            let orderAttrs = this.sortAttributes(subElement);\r\n            for (let j = 0; j < orderAttrs.length; j++) {\r\n                let attribute = orderAttrs[j];\r\n                if (UkuleleUtil.searchUkuAttrTag(attribute.nodeName) > -1) {\r\n                    let tempArr = attribute.nodeName.split('-');\r\n                    tempArr.shift();\r\n                    let attrName = tempArr.join('-');\r\n                    if (attrName !== \"application\") {\r\n                        if (attrName.search('on') === 0) {\r\n                            //is an event\r\n                            if (!UkuleleUtil.isRepeat(subElement) && !UkuleleUtil.isInRepeat(subElement)) {\r\n                                this.dealWithEvent(subElement, attrName);\r\n                            }\r\n                        } else if (attrName.search('repeat') !== -1) {\r\n                            //is an repeat\r\n                            this.dealWithRepeat(subElement);\r\n                        } else {\r\n                            //is an attribute\r\n                            if (!UkuleleUtil.isRepeat(subElement) && !UkuleleUtil.isInRepeat(subElement)) {\r\n                                if (attrName !== \"text\") {\r\n                                    this.dealWithAttribute(subElement, attrName);\r\n                                } else {\r\n                                    this.dealWithInnerText(subElement);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private async searchComponent(element): Promise<any> {\r\n        let comp = this.defMgr.getComponent(element.localName);\r\n        if (comp) {\r\n            if (!comp.lazy) {\r\n                let attrs = element.attributes;\r\n                let compDef = this.defMgr.getComponentsDefinition()[comp.tagName];\r\n                if (!UkuleleUtil.isRepeat(element) && !UkuleleUtil.isInRepeat(element)) {\r\n                } else {\r\n                    //callback && callback(element);\r\n                    return element;\r\n                }\r\n            } else {\r\n                /*this.defMgr.addLazyComponentDefinition(comp.tagName, comp.templateUrl, () => {\r\n                    let attrs = element.attributes;\r\n                    let compDef = this.defMgr.getComponentsDefinition()[comp.tagName];\r\n                    if (!UkuleleUtil.isRepeat(element) && !UkuleleUtil.isInRepeat(element)) {\r\n                        return this.dealWithComponent(element, compDef.template, compDef.controllerClazz, attrs);\r\n                    } else {\r\n                        //callback && callback(element);\r\n                        return element;\r\n                    }\r\n                });*/\r\n                await this.defMgr.addLazyComponentDefinition(comp.tagName, comp.templateUrl);\r\n                let attrs = element.attributes;\r\n                let compDef = this.defMgr.getComponentsDefinition()[comp.tagName];\r\n                if (!UkuleleUtil.isRepeat(element) && !UkuleleUtil.isInRepeat(element)) {\r\n                    return this.dealWithComponent(element, compDef.template, compDef.controllerClazz, attrs);\r\n                } else {\r\n                    //callback && callback(element);\r\n                    return element;\r\n                }\r\n            }\r\n        } else {\r\n            if (element.children && element.children.length > 0) {\r\n                //let ac = new AsyncCaller();\r\n                for (let i = 0; i < element.children.length; i++) {\r\n                    let child = element.children[i];\r\n                    await this.searchComponent(child);\r\n                    /*ac.pushQueue(this.searchComponent.bind(this), [child, () => {\r\n                        this.searchComponent.resolve(ac);\r\n                    }]);*/\r\n                }\r\n                return element;\r\n                // ac.exec(function () {\r\n                //     callback && callback(element);\r\n                // });\r\n            } else {\r\n                //callback && callback(element);\r\n                return element;\r\n            }\r\n        }\r\n    }\r\n\r\n    private async dealWithComponent(tag, template, Clazz, attrs): Promise<any> {\r\n        let randomAlias = 'cc_' + Math.floor(10000 * Math.random()).toString();\r\n        template = template.replace(new RegExp(\"\\'cc\\\\.\", 'gm'), \"'\" + randomAlias + '.');\r\n        template = template.replace(new RegExp('\"cc\\\\.', 'gm'), '\"' + randomAlias + '.');\r\n        template = template.replace(new RegExp('\\{\\{cc\\\\.', 'gm'), \"{{\" + randomAlias + '.');\r\n        template = template.replace(new RegExp(' cc\\\\.', 'gm'), ' ' + randomAlias + '.');\r\n        template = template.replace(new RegExp('\\\\.cc\\\\.', 'gm'), '.' + randomAlias + '.');\r\n        let tempFragment = document.createElement('div');\r\n        tempFragment.insertAdjacentHTML('afterBegin', template);\r\n        if (tempFragment.children.length > 1) {\r\n            template = tempFragment.outerHTML;\r\n        }\r\n        tag.insertAdjacentHTML('beforeBegin', template);\r\n        let htmlDom = tag.previousElementSibling;\r\n        htmlDom.classList.add(tag.localName);\r\n        let cc;\r\n        if (Clazz) {\r\n            cc = new Clazz(this.uku);\r\n            cc._dom = htmlDom;\r\n            cc.fire = (eventType: string, data: any, bubbles: boolean = false, cancelable: boolean = true) => {\r\n                let event = new Event(eventType.toLowerCase(), { \"bubbles\": bubbles, \"cancelable\": cancelable });\r\n                event['data'] = data;\r\n                cc._dom.dispatchEvent(event);\r\n            };\r\n            this.uku.registerController(randomAlias, cc);\r\n            for (let i = 0; i < attrs.length; i++) {\r\n                let attr = attrs[i];\r\n                //todo need Refactor\r\n                if (UkuleleUtil.searchUkuAttrTag(attr.nodeName) !== 0\r\n                    || attr.nodeName.search(\"uku-on\") !== -1\r\n                    || attr.nodeName === \"uku-render\"\r\n                    || attr.nodeName === \"uku-visible\") {\r\n                    htmlDom.setAttribute(attr.nodeName, attr.nodeValue);\r\n                } else {\r\n                    let tagName = UkuleleUtil.getAttrFromUkuTag(attr.nodeName, true);\r\n                    let controllerModel = this.defMgr.getControllerModelByName(attr.nodeValue);\r\n                    if (controllerModel) {\r\n                        let boundItem = new BoundItemComponentAttribute(attr.nodeValue, tagName, cc, this.uku);\r\n                        controllerModel.addBoundItem(boundItem);\r\n                        boundItem.render(controllerModel.controllerInstance);\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            for (let i = 0; i < attrs.length; i++) {\r\n                let attr = attrs[i];\r\n                //todo need Refactor\r\n                if (UkuleleUtil.searchUkuAttrTag(attr.nodeName) !== 0\r\n                    || attr.nodeName.search(\"uku-on\") !== -1\r\n                    || attr.nodeName === \"uku-render\"\r\n                    || attr.nodeName === \"uku-visible\") {\r\n                    htmlDom.setAttribute(attr.nodeName, attr.nodeValue);\r\n                }\r\n            }\r\n        }\r\n\r\n        tag.parentNode.removeChild(tag);\r\n        if (htmlDom.children && htmlDom.children.length > 0) {\r\n            //let ac = new AsyncCaller();\r\n            for (let j = 0; j < htmlDom.children.length; j++) {\r\n                let child = htmlDom.children[j];\r\n                /*ac.pushQueue(this.searchComponent.bind(this), [child, () => {\r\n                    this.searchComponent.resolve(ac);\r\n                }]);*/\r\n                await this.searchComponent(child);\r\n            }\r\n            if (cc && cc._initialized && typeof (cc._initialized) === 'function') {\r\n                cc._initialized();\r\n            }\r\n            return htmlDom;\r\n            /*ac.exec(function () {\r\n                if (cc && cc._initialized && typeof (cc._initialized) === 'function') {\r\n                    cc._initialized();\r\n                }\r\n                callback && callback(htmlDom);\r\n            });*/\r\n        } else {\r\n            if (cc && cc._initialized && typeof (cc._initialized) === 'function') {\r\n                cc._initialized();\r\n            }\r\n            return htmlDom;\r\n        }\r\n    }\r\n    //todo: 处理 tag之间使用{{}}括起的表达式，用以显示文字\r\n    private searchExpression(element: HTMLElement): void {\r\n        if (UkuleleUtil.searchUkuExpTag(Selector.directText(element)) !== -1) {\r\n            if (!UkuleleUtil.isRepeat(element) && !UkuleleUtil.isInRepeat(element)) {\r\n                //normal expression\r\n                this.dealWithExpression(element);\r\n            }\r\n        }\r\n        for (let i = 0; i < element.children.length; i++) {\r\n            this.searchExpression(element.children[i] as HTMLElement);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private dealWithExpression(element) {\r\n        //通常的花括号声明方式\r\n        let expression = Selector.directText(element);\r\n        if (UkuleleUtil.searchUkuExpTag(expression) !== -1) {\r\n            let attr = expression.slice(2, -2);\r\n            let controllerModel = this.defMgr.getControllerModelByName(attr);\r\n            if (controllerModel) {\r\n                let boundItem = new BoundItemExpression(attr, expression, element, this.uku);\r\n                controllerModel.addBoundItem(boundItem);\r\n                boundItem.render(controllerModel.controllerInstance);\r\n            }\r\n        }\r\n    }\r\n\r\n    //处理绑定的attribute\r\n    private dealWithAttribute: Function = function (element, tagName) {\r\n        let attr = element.getAttribute(\"uku-\" + tagName);\r\n        //let elementName = element.tagName;\r\n        let controllerModel = this.defMgr.getControllerModelByName(attr);\r\n        if (controllerModel) {\r\n            let boundItem = BoundItemAttributeFactory.getInstance().generateInstance(attr, tagName, element, this.uku);\r\n            controllerModel.addBoundItem(boundItem);\r\n            boundItem.render(controllerModel.controllerInstance);\r\n            elementChangedBinder(element, tagName, controllerModel, this.uku.refresh, this.uku);\r\n        }\r\n    }\r\n\r\n    //\r\n    private dealWithInnerText(element) {\r\n        let attr = element.getAttribute(\"uku-text\");\r\n        if (attr) {\r\n            let controllerModel = this.defMgr.getControllerModelByName(attr);\r\n            if (controllerModel) {\r\n                let boundItem = new BoundItemInnerText(attr, element, this.uku);\r\n                controllerModel.addBoundItem(boundItem);\r\n                boundItem.render(controllerModel.controllerInstance);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    //处理 事件 event\r\n    private dealWithEvent(element, eventName) {\r\n        let expression = element.getAttribute(\"uku-\" + eventName);\r\n        let eventNameInListener = eventName.substring(2);\r\n        eventNameInListener = eventNameInListener.toLowerCase();\r\n        let controllerModel = this.defMgr.getControllerModelByName(expression);\r\n        if (controllerModel) {\r\n            let controller = controllerModel.controllerInstance;\r\n            let temArr = expression.split(\".\");\r\n            let alias;\r\n            if (temArr[0] === \"parent\") {\r\n                alias = temArr[1];\r\n            } else {\r\n                alias = temArr[0];\r\n            }\r\n            EventListener.addEventListener(element, eventNameInListener, (event) => {\r\n                this.defMgr.copyControllerInstance(controller, alias);\r\n                this.defMgr.getBoundAttributeValue(expression, event);\r\n                this.uku.refresh(alias, element);\r\n            });\r\n        }\r\n    }\r\n    //处理 repeat\r\n    private dealWithRepeat(element) {\r\n        let repeatExpression = element.getAttribute(\"uku-repeat\");\r\n        let tempArr = repeatExpression.split(' in ');\r\n        let itemName = tempArr[0];\r\n        let attr = tempArr[1];\r\n        let controllerModel = this.defMgr.getControllerModelByName(attr);\r\n        if (controllerModel) {\r\n            let controllerInst = controllerModel.controllerInstance;\r\n            let boundItem = new BoundItemRepeat(attr, itemName, element, this.uku);\r\n            controllerModel.addBoundItem(boundItem);\r\n            boundItem.render(controllerInst);\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/Analyzer.ts\n **/","import {BountItemAttrSelected} from \"../model/directive/BoundItemAttrSelected\";\r\nimport {BoundItemAttrDataItem} from \"../model/directive/BoundItemAttrDataItem\";\r\nimport {BoundItemAttrSrc} from \"../model/directive/BoundItemAttrSrc\";\r\nimport {BoundItemAttrDisabled} from \"../model/directive/BoundItemAttrDisabled\";\r\nimport {BoundItemAttrRender} from \"../model/directive/BoundItemAttrRender\";\r\nimport {BoundItemAttrStyle} from \"../model/directive/BoundItemAttrStyle\";\r\nimport {BoundItemAttrValue} from \"../model/directive/BoundItemAttrValue\";\r\nimport {BoundItemAttrVisible} from \"../model/directive/BoundItemAttrVisible\";\r\nimport {BoundItemAttribute} from \"../model/BoundItemAttribute\";\r\nexport class BoundItemAttributeFactory{\r\n    private static _instance = new BoundItemAttributeFactory();\r\n    constructor(){\r\n        if(BoundItemAttributeFactory._instance){\r\n            throw new Error(\"Error: Instantiation failed: Use BoundItemAttributeFactory.getInstance() instead of new.\"); \r\n        }\r\n        BoundItemAttributeFactory._instance = this;\r\n\r\n    }\r\n    static getInstance():BoundItemAttributeFactory{\r\n        return BoundItemAttributeFactory._instance;\r\n    }\r\n    generateInstance(attr, tagName, element, uku){\r\n        let instance;\r\n        switch (tagName) {\r\n            case \"selected\":\r\n                instance = new BountItemAttrSelected(attr, tagName, element, uku);\r\n                break;\r\n            case \"data-item\":\r\n                instance = new BoundItemAttrDataItem(attr, tagName, element, uku);\r\n                break;\r\n            case \"src\":\r\n                instance = new BoundItemAttrSrc(attr, tagName, element, uku);\r\n                break;\r\n            case \"disabled\":\r\n                instance = new BoundItemAttrDisabled(attr, tagName, element, uku);\r\n                break;\r\n            case \"render\":\r\n                instance = new BoundItemAttrRender(attr, tagName, element, uku);\r\n                break;\r\n            case \"style\":\r\n                instance = new BoundItemAttrStyle(attr, tagName, element, uku);\r\n                break;\r\n            case \"value\":\r\n                instance = new BoundItemAttrValue(attr, tagName, element, uku);\r\n                break;\r\n            case \"visible\":\r\n                instance = new BoundItemAttrVisible(attr, tagName, element, uku);\r\n                break;\r\n            default:\r\n                instance = new BoundItemAttribute(attr, tagName, element, uku);\r\n        }\r\n        return instance;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/BoundItemAttributeFactory.ts\n **/","import {BoundItemAttribute} from \"../BoundItemAttribute\";\r\nimport {UkuleleUtil} from \"../../util/UkuleleUtil\";\r\n\r\nexport class BountItemAttrSelected extends BoundItemAttribute{\r\n    constructor(attrName:string, ukuTag:string, element:HTMLElement, uku:any){\r\n        if(ukuTag !== \"selected\"){\r\n            throw new TypeError(\"it doesn't use uku-selected\");\r\n        }\r\n        super(attrName,ukuTag,element,uku);\r\n    }\r\n    render(controller):void{\r\n        let attr:string = this.attributeName;\r\n        let key:string;\r\n        let elementName:string = this.element.tagName;\r\n        if(elementName === \"SELECT\"){\r\n            let tempArr:Array<string> = this.attributeName.split(\"|\");\r\n            attr = tempArr[0];\r\n            key = tempArr[1];\r\n            let finalValue = UkuleleUtil.getFinalValue(this.uku,controller,attr);\r\n            let value;\r\n        \tif(key){\r\n        \t\tvalue = finalValue[key];\r\n        \t}else{\r\n        \t\tvalue = finalValue;\r\n        \t}\r\n            (this.element as HTMLSelectElement).value = value;\r\n        }\r\n\r\n        if(elementName === \"INPUT\" && this.element.getAttribute(\"type\") === \"radio\"){\r\n            let finalValue = UkuleleUtil.getFinalValue(this.uku,controller,attr);\r\n            if((this.element as HTMLInputElement).value === finalValue){\r\n                (this.element as HTMLInputElement).setAttribute(\"checked\",\"true\");\r\n            }\r\n        } \r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/directive/BoundItemAttrSelected.ts\n **/","import {BoundItemBase} from \"./BoundItemBase\";\r\nimport {UkuleleUtil} from \"../util/UkuleleUtil\";\r\n//import {SelectedDecorator} from \"./decorator/SelectedDecorator\";\r\nexport class BoundItemAttribute extends BoundItemBase{\r\n    ukuTag:string;\r\n    constructor(attrName:string, ukuTag:string, element:HTMLElement, uku:any){\r\n        super(attrName,element,uku);\r\n        this.ukuTag = ukuTag;\r\n    }\r\n    \r\n    render(controller):void{\r\n        let attr:string = this.attributeName;\r\n        let finalValue = UkuleleUtil.getFinalValue(this.uku,controller,attr);\r\n        this.element.setAttribute(this.ukuTag, finalValue);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/BoundItemAttribute.ts\n **/","import {IUkulele} from \"../core/IUkulele\";\r\nexport class BoundItemBase{\r\n    attributeName:string;\r\n    element:HTMLElement;\r\n    uku:IUkulele;\r\n    constructor(_attrName:string, _element:HTMLElement, _uku:IUkulele){\r\n        this.attributeName = _attrName;\r\n        this.element = _element;\r\n        this.uku = _uku;\r\n    }\r\n    render(controller:Object):void{\r\n        \r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/BoundItemBase.ts\n **/","import {BoundItemAttribute} from \"../BoundItemAttribute\";\r\nimport {UkuleleUtil} from \"../../util/UkuleleUtil\";\r\n\r\nexport class BoundItemAttrDataItem extends BoundItemAttribute{\r\n    constructor(attrName:string, ukuTag:string, element:HTMLElement, uku:any){\r\n        if(ukuTag !== \"data-item\"){\r\n            throw new TypeError(\"it doesn't use uku-item\");\r\n        }\r\n        super(attrName,ukuTag,element,uku);\r\n    }\r\n    render(controller):void{\r\n        let attr:string = this.attributeName;\r\n        let elementName:string = this.element.tagName;\r\n        let finalValue = UkuleleUtil.getFinalValue(this.uku,controller,attr);\r\n        if(elementName === \"OPTION\"){\r\n        \tfinalValue = JSON.stringify(finalValue);\r\n            this.element.setAttribute('data-item',finalValue);\r\n        }\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/directive/BoundItemAttrDataItem.ts\n **/","import {BoundItemAttribute} from \"../BoundItemAttribute\";\r\nimport {UkuleleUtil} from \"../../util/UkuleleUtil\";\r\n\r\nexport class BoundItemAttrSrc extends BoundItemAttribute{\r\n    constructor(attrName:string, ukuTag:string, element:HTMLElement, uku:any){\r\n        if(ukuTag !== \"src\"){\r\n            throw new TypeError(\"it doesn't use uku-src\");\r\n        }\r\n        super(attrName,ukuTag,element,uku);\r\n    }\r\n    render(controller):void{\r\n        let attr:string = this.attributeName;\r\n        let elementName:string = this.element.tagName;\r\n        let finalValue = UkuleleUtil.getFinalValue(this.uku,controller,attr);\r\n        if(elementName === \"IMG\"){\r\n    \t\tif(finalValue){\r\n                this.element.setAttribute(this.ukuTag,finalValue);\r\n            }\r\n    \t}else{\r\n            throw new Error(\"uku-src doesn't work with current dom\");\r\n        }\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/directive/BoundItemAttrSrc.ts\n **/","import {BoundItemAttribute} from \"../BoundItemAttribute\";\r\nimport {UkuleleUtil} from \"../../util/UkuleleUtil\";\r\n\r\nexport class BoundItemAttrDisabled extends BoundItemAttribute{\r\n    constructor(attrName:string, ukuTag:string, element:HTMLElement, uku:any){\r\n        if(ukuTag !== \"disabled\"){\r\n            throw new TypeError(\"it doesn't use uku-disabled\");\r\n        }\r\n        super(attrName,ukuTag,element,uku);\r\n    }\r\n    render(controller):void{\r\n        let attr:string = this.attributeName;\r\n        let elementName:string = this.element.tagName;\r\n        let finalValue = UkuleleUtil.getFinalValue(this.uku,controller,attr);\r\n        (this.element as HTMLInputElement).disabled = finalValue;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/directive/BoundItemAttrDisabled.ts\n **/","import {BoundItemAttribute} from \"../BoundItemAttribute\";\r\nimport {UkuleleUtil} from \"../../util/UkuleleUtil\";\r\n\r\nexport class BoundItemAttrRender extends BoundItemAttribute{\r\n    constructor(attrName:string, ukuTag:string, element:HTMLElement, uku:any){\r\n        if(ukuTag !== \"render\"){\r\n            throw new TypeError(\"it doesn't use uku-render\");\r\n        }\r\n        super(attrName,ukuTag,element,uku);\r\n    }\r\n    render(controller):void{\r\n        let attr:string = this.attributeName;\r\n        let elementName:string = this.element.tagName;\r\n        let finalValue = UkuleleUtil.getFinalValue(this.uku,controller,attr);\r\n        if(finalValue){\r\n            let oldDisplaySetting = this.element.getAttribute(\"data-old-display\");\r\n            if(oldDisplaySetting !== null){\r\n                this.element.style.display = oldDisplaySetting;\r\n            }\r\n        }else{\r\n            let oldDisplaySetting = this.element.getAttribute(\"data-old-display\");\r\n            if(oldDisplaySetting === null){\r\n                oldDisplaySetting = this.element.style.display;\r\n                this.element.setAttribute(\"data-old-display\",oldDisplaySetting);\r\n            }\r\n            this.element.style.display = \"none\";\r\n        }\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/directive/BoundItemAttrRender.ts\n **/","import {BoundItemAttribute} from \"../BoundItemAttribute\";\r\nimport {UkuleleUtil} from \"../../util/UkuleleUtil\";\r\n\r\nexport class BoundItemAttrStyle extends BoundItemAttribute{\r\n    constructor(attrName:string, ukuTag:string, element:HTMLElement, uku:any){\r\n        if(ukuTag !== \"style\"){\r\n            throw new TypeError(\"it doesn't use uku-style\");\r\n        }\r\n        super(attrName,ukuTag,element,uku);\r\n    }\r\n    render(controller):void{\r\n        let attr:string = this.attributeName;\r\n        let elementName:string = this.element.tagName;\r\n        let finalValue = UkuleleUtil.getFinalValue(this.uku,controller,attr);\r\n        for(let cssName in finalValue){\r\n            this.element.style[cssName] = finalValue[cssName];\r\n        }\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/directive/BoundItemAttrStyle.ts\n **/","import {BoundItemAttribute} from \"../BoundItemAttribute\";\r\nimport {UkuleleUtil} from \"../../util/UkuleleUtil\";\r\n\r\nexport class BoundItemAttrValue extends BoundItemAttribute{\r\n    constructor(attrName:string, ukuTag:string, element:HTMLElement, uku:any){\r\n        if(ukuTag !== \"value\"){\r\n            throw new TypeError(\"it doesn't use uku-value\");\r\n        }\r\n        super(attrName,ukuTag,element,uku);\r\n    }\r\n    render(controller):void{\r\n        let attr:string = this.attributeName;\r\n        let elementName:string = this.element.tagName;\r\n        let finalValue = UkuleleUtil.getFinalValue(this.uku,controller,attr);\r\n        if(elementName === \"INPUT\" && this.element.getAttribute(\"type\") === \"checkbox\"){\r\n    \t\t(this.element as HTMLInputElement).checked = finalValue;\r\n    \t}\r\n    \telse{\r\n            (this.element as HTMLInputElement).value = finalValue;\r\n        }\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/directive/BoundItemAttrValue.ts\n **/","import {BoundItemAttribute} from \"../BoundItemAttribute\";\r\nimport {UkuleleUtil} from \"../../util/UkuleleUtil\";\r\n\r\nexport class BoundItemAttrVisible extends BoundItemAttribute{\r\n    constructor(attrName:string, ukuTag:string, element:HTMLElement, uku:any){\r\n        if(ukuTag !== \"visible\"){\r\n            throw new TypeError(\"it doesn't use uku-visible\");\r\n        }\r\n        super(attrName,ukuTag,element,uku);\r\n    }\r\n    render(controller):void{\r\n        let attr:string = this.attributeName;\r\n        let elementName:string = this.element.tagName;\r\n        let finalValue = UkuleleUtil.getFinalValue(this.uku,controller,attr);\r\n        if(finalValue){\r\n            this.element.style.visibility = \"visible\";\r\n        }else{\r\n            this.element.style.visibility = \"hidden\";\r\n        }\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/directive/BoundItemAttrVisible.ts\n **/","import {BoundItemBase} from \"./BoundItemBase\";\r\nimport {UkuleleUtil} from \"../util/UkuleleUtil\";\r\nimport {Selector} from \"../extend/Selector\";\r\nimport {IUkulele} from \"../core/IUkulele\";\r\nexport class BoundItemExpression extends BoundItemBase{\r\n    expression:string;\r\n    constructor(attrName:string, expression:string, element:HTMLElement, uku:IUkulele){\r\n        super(attrName,element,uku);\r\n        this.expression = expression;\r\n    }\r\n\r\n    render(controller) :void{\r\n        let finalValue = UkuleleUtil.getFinalValue(this.uku,controller,this.attributeName);\r\n        Selector.directText(this.element,finalValue);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/BoundItemExpression.ts\n **/","import {BoundItemBase} from \"./BoundItemBase\";\r\nimport {UkuleleUtil} from \"../util/UkuleleUtil\";\r\nimport {IUkulele} from \"../core/IUkulele\";\r\nexport class BoundItemInnerText extends BoundItemBase{\r\n    tagName:string;\r\n    constructor(attrName:string, element:HTMLElement, uku:IUkulele){\r\n        super(attrName,element,uku);\r\n        this.tagName = 'text';\r\n    }\r\n\r\n    render(controller):void {\r\n        let finalValue = UkuleleUtil.getFinalValue(this.uku,controller,this.attributeName);\r\n        this.element.innerHTML = finalValue;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/BoundItemInnerText.ts\n **/","import {BoundItemBase} from \"./BoundItemBase\";\r\nimport {UkuleleUtil} from \"../util/UkuleleUtil\";\r\nimport {IUkulele} from \"../core/IUkulele\";\r\n\r\nexport class BoundItemRepeat extends BoundItemBase{\r\n    expression:string;\r\n    renderTemplate:string;\r\n    parentElement:Node;\r\n    beginCommentString:string;\r\n    endCommentString:string;\r\n    constructor(attrName, itemName, element, uku){\r\n        super(attrName, element, uku);\r\n        this.expression = itemName;\r\n        this.renderTemplate = element.outerHTML;\r\n        this.parentElement = element.parentNode;\r\n        this.beginCommentString = undefined;\r\n        this.endCommentString = undefined;\r\n    }\r\n\r\n    render(controller) {\r\n        let finalValue = UkuleleUtil.getFinalValue(this.uku, controller, this.attributeName);\r\n        if (!finalValue) {\r\n            return;\r\n        }\r\n\r\n        let self = this;\r\n        if (this.element && this.element.parentNode) {\r\n            //create repeate begin comment\r\n            this.beginCommentString = \"begin uku-repeat: \" + this.expression + \" in \" + this.attributeName;\r\n            let beginComment = document.createComment(this.beginCommentString);\r\n            this.element.parentNode.insertBefore(beginComment, this.element);\r\n            //create repeate end comment\r\n            this.endCommentString = \"end uku-repeat: \" + this.expression + \" in \" + this.attributeName;\r\n            let endComment = document.createComment(this.endCommentString);\r\n            this.element.parentNode.insertBefore(endComment, this.element.nextSibling);\r\n            //remove definition dom\r\n            this.element.parentNode.removeChild(this.element);\r\n        }\r\n        let treeWalker = document.createTreeWalker(this.parentElement,\r\n            NodeFilter.SHOW_COMMENT,\r\n            {acceptNode: function(node){\r\n                if (node.nodeValue === self.beginCommentString) {\r\n                return NodeFilter.FILTER_ACCEPT;\r\n                }\r\n                return NodeFilter.FILTER_SKIP;\r\n            }},\r\n            false);\r\n\r\n        /*function filter(node:Node) :any{\r\n            if (node.nodeValue === self.beginCommentString) {\r\n                return (NodeFilter.FILTER_ACCEPT);\r\n            }\r\n            return (NodeFilter.FILTER_SKIP);\r\n        }*/\r\n\r\n        function generateTempContainer():HTMLElement{\r\n            let index = UkuleleUtil.searchHtmlTag(self.renderTemplate,\"tr\");\r\n            if(index === -1){\r\n                return document.createElement(\"div\");\r\n            }else{\r\n                return document.createElement(\"tbody\");\r\n            }\r\n        }\r\n\r\n        while (treeWalker.nextNode()) {\r\n            let commentNode = treeWalker.currentNode;\r\n            if (commentNode && commentNode.nodeValue === this.beginCommentString) {\r\n                //remove overtime dom.\r\n                while (commentNode.nextSibling && commentNode.nextSibling.nodeValue !== this.endCommentString) {\r\n                    commentNode.parentNode.removeChild(commentNode.nextSibling);\r\n                }\r\n                //create new dom\r\n                let tempDiv = generateTempContainer();\r\n                let blankDiv = generateTempContainer();\r\n                commentNode.parentNode.insertBefore(blankDiv, commentNode.nextSibling);\r\n                for (let i = 0; i < finalValue.length; i++) {\r\n                    tempDiv.insertAdjacentHTML('beforeEnd', this.renderTemplate);\r\n                    if (i === finalValue.length - 1) {\r\n                        let childrenHTML = tempDiv.innerHTML;\r\n                        blankDiv.insertAdjacentHTML('beforeBegin', childrenHTML);\r\n                        commentNode.parentNode.removeChild(blankDiv);\r\n                        tempDiv = null;\r\n                        blankDiv = null;\r\n                    }\r\n                }\r\n\r\n                let child:HTMLElement = commentNode.nextSibling as HTMLElement;\r\n                for (let j = 0; j < finalValue.length; j++) {\r\n                    child.removeAttribute(\"uku-repeat\");\r\n                    var Uku_Clazz = (<any>this.uku).constructor;\r\n                    let ukulele:IUkulele = new Uku_Clazz(); //new Ukulele();\r\n                    ukulele.parentUku = this.uku;\r\n                    let compDef = ukulele.parentUku._internal_getDefinitionManager().getComponentsDefinition();\r\n                    let compPool = ukulele.parentUku._internal_getDefinitionManager().getComponentsPool();\r\n                    ukulele._internal_getDefinitionManager().setComponentsDefinition(compDef);\r\n                    ukulele._internal_getDefinitionManager().setComponentsPool(compPool);\r\n                    let sibling:HTMLElement = child.nextSibling as HTMLElement;\r\n                    let itemType = typeof finalValue[j];\r\n                    if(itemType === \"object\"){\r\n                        ukulele.registerController(this.expression, finalValue[j]);\r\n                    }else {\r\n                        ukulele.registerController(this.expression, {'value':finalValue[j]});\r\n                        let newOuterHtml = child.outerHTML.replace(new RegExp(this.expression,\"gm\"),this.expression+'.value');\r\n                        child.insertAdjacentHTML('afterend',newOuterHtml);\r\n                        let newItemDom:HTMLElement = child.nextSibling as HTMLElement;\r\n                        child.parentNode.removeChild(child);\r\n                        child = newItemDom;\r\n                    }\r\n                    ukulele._internal_dealWithElement(child);\r\n                    child = sibling;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.element.tagName === \"OPTION\") {\r\n            let expression = (this.parentElement as HTMLInputElement).getAttribute(\"uku-selected\");\r\n            let tempArr = expression.split(\"|\");\r\n            expression = tempArr[0];\r\n            let key = tempArr[1];\r\n            let value = this.uku._internal_getDefinitionManager().getFinalValueByExpression(expression);\r\n            if (key) {\r\n                (this.parentElement as HTMLInputElement).value = value[key];\r\n            } else {\r\n                (this.parentElement as HTMLInputElement).value = value;\r\n            }\r\n            this.element.setAttribute(\"selected\",\"selected\");\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/BoundItemRepeat.ts\n **/","import {BoundItemBase} from \"./BoundItemBase\";\r\nimport {UkuleleUtil} from \"../util/UkuleleUtil\";\r\nimport {IUkulele} from \"../core/IUkulele\";\r\nexport class BoundItemComponentAttribute extends BoundItemBase{\r\n    ukuTag:string;\r\n    componentController:any;\r\n    constructor(attrName:string, ukuTag:string, cc:any, uku:IUkulele){\r\n        super(attrName,null,uku);\r\n        this.ukuTag = ukuTag;\r\n        this.componentController = cc;\r\n    }\r\n    render(controller) :void{\r\n        let finalValue = UkuleleUtil.getFinalValue(this.uku,controller,this.attributeName);\r\n        this.componentController[this.ukuTag] = finalValue;\r\n        this.uku.refresh(this.componentController._alias);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/BoundItemComponentAttribute.ts\n **/","import {UkuleleUtil} from '../util/UkuleleUtil';\r\nimport {EventListener} from '../extend/EventListener';\r\nimport {Selector} from '../extend/Selector';\r\n\r\nfunction elementChangedBinder(element, tagName, controllerModel, handler, host) {\r\n    let elementStrategies = [inputTextCase, textareaCase, selectCase, checkboxCase, radioCase];\r\n    for (let i = 0; i < elementStrategies.length; i++) {\r\n        let func = elementStrategies[i];\r\n        let goon = func.apply(this, arguments);\r\n        if (goon) {\r\n            break;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nfunction inputTextCase(element, tagName, controllerModel, handler, host) {\r\n    let elementName = element.tagName;\r\n    if (elementName === \"INPUT\" && isSupportInputType(element) && tagName === \"value\") {\r\n        let eventType = 'change';\r\n        let inputType = element.getAttribute('type');\r\n        if(inputType === \"text\"){\r\n            eventType = 'input';\r\n        }\r\n        EventListener.addEventListener(element,eventType,(e)=>{\r\n            let attr = element.getAttribute(\"uku-\" + tagName);\r\n            attr = UkuleleUtil.getFinalAttribute(attr);\r\n            let temp = attr.split(\".\");\r\n            let finalInstance = controllerModel.controllerInstance;\r\n            for (let i = 0; i < temp.length - 1; i++) {\r\n                finalInstance = finalInstance[temp[i]];\r\n            }\r\n            finalInstance[temp[temp.length - 1]] = element.value;\r\n            if (handler) {\r\n                handler.call(host,controllerModel.alias, element);\r\n            }\r\n        });\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction isSupportInputType(element) {\r\n    let type = element.getAttribute(\"type\");\r\n    if (type !== \"checkbox\" && type !== \"radio\") {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction textareaCase(element, tagName, controllerModel, handler, host) {\r\n    let elementName = element.tagName;\r\n    if (elementName === \"TEXTAREA\" && tagName === \"value\") {\r\n        EventListener.addEventListener(element,'input',function(e){\r\n            let attr = element.getAttribute(\"uku-\" + tagName);\r\n            attr = UkuleleUtil.getFinalAttribute(attr);\r\n            let temp = attr.split(\".\");\r\n            let finalInstance = controllerModel.controllerInstance;\r\n            for (let i = 0; i < temp.length - 1; i++) {\r\n                finalInstance = finalInstance[temp[i]];\r\n            }\r\n            finalInstance[temp[temp.length - 1]] = element.value;\r\n            if (handler) {\r\n                handler.call(host,controllerModel.alias, element);\r\n            }\r\n        });\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction selectCase(element, tagName, controllerModel, handler, host) {\r\n    let elementName = element.tagName;\r\n    if ((elementName === \"SELECT\" && tagName === \"selected\")) {\r\n        EventListener.addEventListener(element,'change',function(e){\r\n            let attr = element.getAttribute(\"uku-\" + tagName);\r\n            let key;\r\n            let tmpArr = attr.split(\"|\");\r\n            attr = tmpArr[0];\r\n            key = tmpArr[1];\r\n            attr = UkuleleUtil.getFinalAttribute(attr);\r\n            let temp = attr.split(\".\");\r\n            let finalInstance = controllerModel.controllerInstance;\r\n            for (let i = 0; i < temp.length - 1; i++) {\r\n                finalInstance = finalInstance[temp[i]];\r\n            }\r\n\r\n            let options = Selector.querySelectorAll(element,\"option\");\r\n            for (let j = 0; j < options.length; j++) {\r\n                let option:HTMLOptionElement = options[j] as HTMLOptionElement;\r\n                if (option.selected) {\r\n                    let selectedItem = JSON.parse(option.getAttribute(\"data-item\"));\r\n                    finalInstance[temp[temp.length - 1]] = selectedItem;\r\n                }\r\n            }\r\n            if (handler) {\r\n                handler.call(host,controllerModel.alias, element);\r\n            }\r\n        });\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction checkboxCase(element, tagName, controllerModel, handler, host) {\r\n    let elementName = element.tagName;\r\n\r\n    if (elementName === \"INPUT\" && tagName === \"value\" && element.getAttribute(\"type\") === \"checkbox\") {\r\n        EventListener.addEventListener(element,'change',function(e){\r\n            let attr = element.getAttribute(\"uku-\" + tagName);\r\n            attr = UkuleleUtil.getFinalAttribute(attr);\r\n            let temp = attr.split(\".\");\r\n            let finalInstance = controllerModel.controllerInstance;\r\n            for (let i = 0; i < temp.length - 1; i++) {\r\n                finalInstance = finalInstance[temp[i]];\r\n            }\r\n            finalInstance[temp[temp.length - 1]] = element.checked;\r\n            if (handler) {\r\n                handler.call(host,controllerModel.alias, element);\r\n            }\r\n        });\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction radioCase(element, tagName, controllerModel, handler, host) {\r\n    let elementName = element.tagName;\r\n\r\n    if (elementName === \"INPUT\" && tagName === \"selected\" && element.getAttribute(\"type\") === \"radio\") {\r\n        EventListener.addEventListener(element,'change',function(e){\r\n            let attr = element.getAttribute(\"uku-\" + tagName);\r\n            attr = UkuleleUtil.getFinalAttribute(attr);\r\n            let temp = attr.split(\".\");\r\n            let finalInstance = controllerModel.controllerInstance;\r\n            for (let i = 0; i < temp.length - 1; i++) {\r\n                finalInstance = finalInstance[temp[i]];\r\n            }\r\n            if (element.checked) {\r\n                finalInstance[temp[temp.length - 1]] = element.value;\r\n                if (handler) {\r\n                    handler.call(host,controllerModel.alias, element);\r\n                }\r\n            }\r\n        });\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nexport {elementChangedBinder};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/ElementActionBinder.ts\n **/","export class EventListener{\r\n    static addEventListener(element:HTMLElement,eventType:string,handler:any):void{\r\n        if(window.hasOwnProperty('jQuery') && typeof window['jQuery'] !== undefined){\r\n            return window['jQuery'](element).on(eventType,(e)=>{\r\n                handler && handler(e);\r\n            });\r\n        }else{\r\n            return element.addEventListener(eventType,handler);\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/extend/EventListener.ts\n **/"],"sourceRoot":""}